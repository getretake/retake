(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1656:function(e,t,r){Promise.resolve().then(r.bind(r,2396))},2396:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g8}});var s,i,n,o,a,u,c=r(9268),h=r(8683),l=r.n(h),g=r(6006),p=r(255),d=r(9738),_=r(7499),f=r(2696),y=r(3681),m=r(7558),w=r(6396),b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},x={},O={},v="__lodash_hash_undefined__",q=1/0,S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,T=/^\./,D=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k=/\\(\\)?/g,Q=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,j="object"==typeof b&&b&&b.Object===Object&&b,P="object"==typeof self&&self&&self.Object===Object&&self,z=j||P||Function("return this")(),$=Array.prototype,F=Function.prototype,N=Object.prototype,C=z["__core-js_shared__"],M=(s=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",R=F.toString,L=N.hasOwnProperty,B=N.toString,G=RegExp("^"+R.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=z.Symbol,H=N.propertyIsEnumerable,J=$.splice,U=es(z,"Map"),W=es(Object,"create"),V=I?I.prototype:void 0,K=V?V.toString:void 0;function Z(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function Y(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function X(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function ee(e,t){for(var r,s=e.length;s--;)if((r=e[s][0])===t||r!=r&&t!=t)return s;return -1}function et(e,t){return null!=e&&L.call(e,t)}function er(e,t){var r,s=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?s["string"==typeof t?"string":"hash"]:s.map}function es(e,t){var r=null==e?void 0:e[t];return!(!ec(r)||M&&M in r)&&(ea(r)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(r)?G:Q).test(function(e){if(null!=e){try{return R.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(r))?r:void 0}Z.prototype.clear=function(){this.__data__=W?W(null):{}},Z.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Z.prototype.get=function(e){var t=this.__data__;if(W){var r=t[e];return r===v?void 0:r}return L.call(t,e)?t[e]:void 0},Z.prototype.has=function(e){var t=this.__data__;return W?void 0!==t[e]:L.call(t,e)},Z.prototype.set=function(e,t){return this.__data__[e]=W&&void 0===t?v:t,this},Y.prototype.clear=function(){this.__data__=[]},Y.prototype.delete=function(e){var t=this.__data__,r=ee(t,e);return!(r<0)&&(r==t.length-1?t.pop():J.call(t,r,1),!0)},Y.prototype.get=function(e){var t=this.__data__,r=ee(t,e);return r<0?void 0:t[r][1]},Y.prototype.has=function(e){return ee(this.__data__,e)>-1},Y.prototype.set=function(e,t){var r=this.__data__,s=ee(r,e);return s<0?r.push([e,t]):r[s][1]=t,this},X.prototype.clear=function(){this.__data__={hash:new Z,map:new(U||Y),string:new Z}},X.prototype.delete=function(e){return er(this,e).delete(e)},X.prototype.get=function(e){return er(this,e).get(e)},X.prototype.has=function(e){return er(this,e).has(e)},X.prototype.set=function(e,t){return er(this,e).set(e,t),this};var ei=en(function(e){e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(el(e))return K?K.call(e):"";var t=e+"";return"0"==t&&1/e==-q?"-0":t}(t);var t,r=[];return T.test(e)&&r.push(""),e.replace(D,function(e,t,s,i){r.push(s?i.replace(k,"$1"):t||e)}),r});function en(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var s=arguments,i=t?t.apply(this,s):s[0],n=r.cache;if(n.has(i))return n.get(i);var o=e.apply(this,s);return r.cache=n.set(i,o),o};return r.cache=new(en.Cache||X),r}en.Cache=X;var eo=Array.isArray;function ea(e){var t=ec(e)?B.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function eu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ec(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function eh(e){return!!e&&"object"==typeof e}function el(e){return"symbol"==typeof e||eh(e)&&"[object Symbol]"==B.call(e)}var eg=function(e,t){return null!=e&&function(e,t,r){t=!function(e,t){if(eo(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||el(e))||A.test(e)||!S.test(e)||null!=t&&e in Object(t)}(t,e)?eo(u=t)?u:ei(u):[t];for(var s,i,n,o,a,u,c,h=-1,l=t.length;++h<l;){var g=function(e){if("string"==typeof e||el(e))return e;var t=e+"";return"0"==t&&1/e==-q?"-0":t}(t[h]);if(!(c=null!=e&&r(e,g)))break;e=e[g]}if(c)return c;var l=e?e.length:0;return!!l&&eu(l)&&(s=g,!!(i=null==(i=l)?9007199254740991:i)&&("number"==typeof s||E.test(s))&&s>-1&&s%1==0&&s<i)&&(eo(e)||eh(o=n=e)&&null!=(a=o)&&eu(a.length)&&!ea(a)&&L.call(n,"callee")&&(!H.call(n,"callee")||"[object Arguments]"==B.call(n)))}(e,t,et)},ep=function(e){return null==e},ed={exports:{}};ed.exports,function(e,t){var r,s,i,n="[object Map]",o="[object Promise]",a="[object Set]",u="[object WeakMap]",c="[object DataView]",h=/^\[object .+?Constructor\]$/,l="object"==typeof b&&b&&b.Object===Object&&b,g="object"==typeof self&&self&&self.Object===Object&&self,p=l||g||Function("return this")(),d=t&&!t.nodeType&&t,_=d&&e&&!e.nodeType&&e,f=_&&_.exports===d,y=Function.prototype,m=Object.prototype,w=p["__core-js_shared__"],x=(r=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",O=y.toString,v=m.hasOwnProperty,q=m.toString,S=RegExp("^"+O.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=f?p.Buffer:void 0,T=m.propertyIsEnumerable,D=A?A.isBuffer:void 0,k=(s=Object.keys,i=Object,function(e){return s(i(e))}),Q=L(p,"DataView"),E=L(p,"Map"),j=L(p,"Promise"),P=L(p,"Set"),z=L(p,"WeakMap"),$=!T.call({valueOf:1},"valueOf"),F=G(Q),N=G(E),C=G(j),M=G(P),R=G(z);function L(e,t){var r=null==e?void 0:e[t];return!(!W(r)||x&&x in r)&&(U(r)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(r)?S:h).test(G(r))?r:void 0}var B=function(e){return q.call(e)};function G(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(Q&&B(new Q(new ArrayBuffer(1)))!=c||E&&B(new E)!=n||j&&B(j.resolve())!=o||P&&B(new P)!=a||z&&B(new z)!=u)&&(B=function(e){var t=q.call(e),r="[object Object]"==t?e.constructor:void 0,s=r?G(r):void 0;if(s)switch(s){case F:return c;case N:return n;case C:return o;case M:return a;case R:return u}return t});var I=Array.isArray;function H(e){var t;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!U(e)}var J=D||function(){return!1};function U(e){var t=W(e)?q.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function W(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){if(H(e)&&(I(e)||"string"==typeof e||"function"==typeof e.splice||J(e)||e&&"object"==typeof e&&H(e)&&v.call(e,"callee")&&(!T.call(e,"callee")||"[object Arguments]"==q.call(e))))return!e.length;var t,r,s=B(e);if(s==n||s==a)return!e.size;if($||(r="function"==typeof(t=e&&e.constructor)&&t.prototype||m,e===r))return!k(e).length;for(var i in e)if(v.call(e,i))return!1;return!0}}(ed,ed.exports);var e_=ed.exports,ef={},ey=Object.prototype.toString,em=Array.isArray,ew=function(e){var t;return"string"==typeof e||!em(e)&&!!(t=e)&&"object"==typeof t&&"[object String]"==ey.call(e)},eb=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)},ex="__lodash_hash_undefined__",eO=1/0,ev=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eq=/^\w*$/,eS=/^\./,eA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eT=/\\(\\)?/g,eD=/^\[object .+?Constructor\]$/,ek=/^(?:0|[1-9]\d*)$/,eQ="object"==typeof b&&b&&b.Object===Object&&b,eE="object"==typeof self&&self&&self.Object===Object&&self,ej=eQ||eE||Function("return this")(),eP=Array.prototype,ez=Function.prototype,e$=Object.prototype,eF=ej["__core-js_shared__"],eN=(i=/[^.]+$/.exec(eF&&eF.keys&&eF.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",eC=ez.toString,eM=e$.hasOwnProperty,eR=e$.toString,eL=RegExp("^"+eC.call(eM).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eB=ej.Symbol,eG=e$.propertyIsEnumerable,eI=eP.splice,eH=e1(ej,"Map"),eJ=e1(Object,"create"),eU=eB?eB.prototype:void 0,eW=eU?eU.toString:void 0;function eV(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function eK(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function eZ(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function eY(e,t){for(var r,s=e.length;s--;)if((r=e[s][0])===t||r!=r&&t!=t)return s;return -1}function eX(e,t){return null!=e&&t in Object(e)}function e0(e,t){var r,s=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?s["string"==typeof t?"string":"hash"]:s.map}function e1(e,t){var r=null==e?void 0:e[t];return!(!e7(r)||eN&&eN in r)&&(e5(r)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(r)?eL:eD).test(function(e){if(null!=e){try{return eC.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(r))?r:void 0}eV.prototype.clear=function(){this.__data__=eJ?eJ(null):{}},eV.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},eV.prototype.get=function(e){var t=this.__data__;if(eJ){var r=t[e];return r===ex?void 0:r}return eM.call(t,e)?t[e]:void 0},eV.prototype.has=function(e){var t=this.__data__;return eJ?void 0!==t[e]:eM.call(t,e)},eV.prototype.set=function(e,t){return this.__data__[e]=eJ&&void 0===t?ex:t,this},eK.prototype.clear=function(){this.__data__=[]},eK.prototype.delete=function(e){var t=this.__data__,r=eY(t,e);return!(r<0)&&(r==t.length-1?t.pop():eI.call(t,r,1),!0)},eK.prototype.get=function(e){var t=this.__data__,r=eY(t,e);return r<0?void 0:t[r][1]},eK.prototype.has=function(e){return eY(this.__data__,e)>-1},eK.prototype.set=function(e,t){var r=this.__data__,s=eY(r,e);return s<0?r.push([e,t]):r[s][1]=t,this},eZ.prototype.clear=function(){this.__data__={hash:new eV,map:new(eH||eK),string:new eV}},eZ.prototype.delete=function(e){return e0(this,e).delete(e)},eZ.prototype.get=function(e){return e0(this,e).get(e)},eZ.prototype.has=function(e){return e0(this,e).has(e)},eZ.prototype.set=function(e,t){return e0(this,e).set(e,t),this};var e9=e4(function(e){e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(e8(e))return eW?eW.call(e):"";var t=e+"";return"0"==t&&1/e==-eO?"-0":t}(t);var t,r=[];return eS.test(e)&&r.push(""),e.replace(eA,function(e,t,s,i){r.push(s?i.replace(eT,"$1"):t||e)}),r});function e4(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var s=arguments,i=t?t.apply(this,s):s[0],n=r.cache;if(n.has(i))return n.get(i);var o=e.apply(this,s);return r.cache=n.set(i,o),o};return r.cache=new(e4.Cache||eZ),r}e4.Cache=eZ;var e2=Array.isArray;function e5(e){var t=e7(e)?eR.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function e3(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function e7(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function e6(e){return!!e&&"object"==typeof e}function e8(e){return"symbol"==typeof e||e6(e)&&"[object Symbol]"==eR.call(e)}var te={exports:{}};!function(e,t){function r(e,r){let u={seen:[],stylize:s};return arguments.length>=3&&(u.depth=arguments[2]),arguments.length>=4&&(u.colors=arguments[3]),o(r)?u.showHidden=r:r&&t._extend(u,r),a(u.showHidden)&&(u.showHidden=!1),a(u.depth)&&(u.depth=2),a(u.colors)&&(u.colors=!1),a(u.customInspect)&&(u.customInspect=!0),u.colors&&(u.stylize=i),n(u,e,u.depth)}function s(e){return e}function i(e,t){let s=r.styles[t];return s?`\u001B[${r.colors[s][0]}m${e}\u001B[${r.colors[s][1]}m`:e}function n(e,r,s){let i;if(e.customInspect&&r&&l(r.inspect)&&r.inspect!==t.inspect&&!(r.constructor&&r.constructor.prototype===r)){let t=r.inspect(s,e);return ew(t)||(t=n(e,t,s)),t}let d=function(e,t){if(a(t))return e.stylize("undefined","undefined");if(ew(t)){let r=`'${JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')}'`;return e.stylize(r,"string")}return"number"==typeof t?e.stylize(`${t}`,"number"):o(t)?e.stylize(`${t}`,"boolean"):null===t?e.stylize("null","null"):void 0}(e,r);if(d)return d;let _=Object.keys(r),f=function(e){let t={};return e.forEach(e=>{t[e]=!0}),t}(_);if(e.showHidden&&(_=Object.getOwnPropertyNames(r)),h(r)&&(_.indexOf("message")>=0||_.indexOf("description")>=0))return g(r);if(0===_.length){if(l(r)){let t=r.name?`: ${r.name}`:"";return e.stylize(`[Function${t}]`,"special")}if(u(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(c(r))return e.stylize(Date.prototype.toString.call(r),"date");if(h(r))return g(r)}let y="",m=!1,w=["{","}"];if(Array.isArray(r)&&(m=!0,w=["[","]"]),l(r)){let e=r.name?`: ${r.name}`:"";y=` [Function${e}]`}return(u(r)&&(y=` ${RegExp.prototype.toString.call(r)}`),c(r)&&(y=` ${Date.prototype.toUTCString.call(r)}`),h(r)&&(y=` ${g(r)}`),0!==_.length||m&&0!==r.length)?s<0?u(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),i=m?function(e,t,r,s,i){let n=[];for(let i=0,o=t.length;i<o;++i)hasOwnProperty(t,String(i))?n.push(p(e,t,r,s,String(i),!0)):n.push("");return i.forEach(i=>{i.match(/^\d+$/)||n.push(p(e,t,r,s,i,!0))}),n}(e,r,s,f,_):_.map(t=>p(e,r,s,f,t,m)),e.seen.pop(),function(e,t,r){let s=e.reduce((e,t)=>e+t.replace(/\u001b\[\d\d?m/g,"").length+1,0);return s>60?`${r[0]+(""===t?"":`${t}
 `)} ${e.join(",\n  ")} ${r[1]}`:`${r[0]+t} ${e.join(", ")} ${r[1]}`}(i,y,w)):w[0]+y+w[1]}function o(e){return"boolean"==typeof e}function a(e){return void 0===e}function u(e){return eb(e)&&"[object RegExp]"===d(e)}function c(e){return eb(e)&&"[object Date]"===d(e)}function h(e){return eb(e)&&("[object Error]"===d(e)||e instanceof Error)}function l(e){return"function"==typeof e}function g(e){return`[${Error.prototype.toString.call(e)}]`}function p(e,t,r,s,i,o){let u,c;let h=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(h.get?c=h.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):h.set&&(c=e.stylize("[Setter]","special")),hasOwnProperty(s,i)||(u=`[${i}]`),!c&&(0>e.seen.indexOf(h.value)?(c=null===r?n(e,h.value,null):n(e,h.value,r-1)).indexOf("\n")>-1&&(c=o?c.split("\n").map(e=>`  ${e}`).join("\n").slice(2):`
${c.split("\n").map(e=>`   ${e}`).join("\n")}`):c=e.stylize("[Circular]","special")),a(u)){if(o&&i.match(/^\d+$/))return c;(u=JSON.stringify(`${i}`)).match(/^"([a-zA-Z_]\w*)"$/)?(u=u.slice(1,-1),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return`${u}: ${c}`}function d(e){return Object.prototype.toString.call(e)}e.exports=r}(te,te.exports);var tt=te.exports;ef.checkType=function(e,t){if(!(e instanceof t))throw ep(e)?console.warn(`Was expecting instance of ${t.name} but got ${e}!`):console.warn(`${tt(e)} is of the type ${typeof e}`),TypeError(`Argument must be an instance of ${t.name}`)},ef.constructorWrapper=function(e){return(...t)=>new e(...t)},ef.firstDigitPos=function(e){if(e_(e))return -1;let t=e.length;for(let s=0;s<t;s++){var r;if((r=e.charCodeAt(s))>=48&&r<=57)return s}return -1},ef.recursiveToJSON=function e(t){if(!eb(t))return t;if(Array.isArray(t))return t.map(t=>e(t));if(null!=t&&function(e,t,r){t=!function(e,t){if(e2(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||e8(e))||eq.test(e)||!ev.test(e)||null!=t&&e in Object(t)}(t,e)?e2(u=t)?u:e9(u):[t];for(var s,i,n,o,a,u,c,h=-1,l=t.length;++h<l;){var g=function(e){if("string"==typeof e||e8(e))return e;var t=e+"";return"0"==t&&1/e==-eO?"-0":t}(t[h]);if(!(c=null!=e&&r(e,g)))break;e=e[g]}if(c)return c;var l=e?e.length:0;return!!l&&e3(l)&&(s=g,!!(i=null==(i=l)?9007199254740991:i)&&("number"==typeof s||ek.test(s))&&s>-1&&s%1==0&&s<i)&&(e2(e)||e6(o=n=e)&&null!=(a=o)&&e3(a.length)&&!e5(a)&&eM.call(n,"callee")&&(!eG.call(n,"callee")||"[object Arguments]"==eR.call(n)))}(t,"toJSON",eX)&&t.constructor!==Object)return e(t.toJSON());let r={};for(let s of Object.keys(t))r[s]=e(t[s]);return r},ef.invalidParam=function(e,t,r){return(s,i=e)=>{i&&console.log(`See ${i}`),console.warn(`Got '${t}' - '${s}'`);let n=ew(r)?r:tt(r);throw Error(`The '${t}' parameter should be one of ${n}`)}},ef.setDefault=function(e,t,r){let s=!eg(e,t);return s&&(e[t]=r),s};let{recursiveToJSON:tr}=ef;var ts=class{constructor(e){this.queryType=e,this._body={},this._queryOpts=this._body[e]={}}boost(e){return this._queryOpts.boost=e,this}name(e){return this._queryOpts._name=e,this}getDSL(){return this.toJSON()}toJSON(){return tr(this._body)}};let{checkType:ti,recursiveToJSON:tn}=ef,to=class e{constructor(e,t){if(e_(t))throw Error("Aggregation `aggType` cannot be empty");this._name=e,this.aggType=t,this._aggs={},this._aggsDef=this._aggs[t]={},this._nestedAggs=[]}name(e){return this._name=e,this}aggregation(t){return ti(t,e),this._nestedAggs.push(t),this}agg(e){return this.aggregation(e)}aggregations(e){return ti(e,Array),e.forEach(e=>this.aggregation(e)),this}aggs(e){return this.aggregations(e)}meta(e){return this._aggs.meta=e,this}_aggsName(){if(!e_(this._name))return this._name;if(eg(this._aggsDef,"field"))return`agg_${this.aggType}_${this._aggsDef.field}`;throw Error("Aggregation name could not be determined")}getDSL(){return this.toJSON()}toJSON(){let e=tn(this._aggs);return e_(this._nestedAggs)||(e.aggs=Object.assign({},...tn(this._nestedAggs))),{[this._aggsName()]:e}}},ta=class{constructor(e,t,r){if(e_(e))throw Error("Suggester `suggesterType` cannot be empty");if(e_(t))throw Error("Suggester `name` cannot be empty");this.name=t,this.suggesterType=e,this._body={},this._opts=this._body[t]={},this._suggestOpts=this._opts[e]={},ep(r)||(this._suggestOpts.field=r)}field(e){return this._suggestOpts.field=e,this}size(e){return this._suggestOpts.size=e,this}toJSON(){return this._body}};var tu={};tu.EXECUTION_HINT_SET=new Set(["map","global_ordinals","global_ordinals_hash","global_ordinals_low_cardinality"]),tu.UNIT_SET=new Set(["in","inch","yd","yards","ft","feet","km","kilometers","NM","nmi","nauticalmiles","mm","millimeters","cm","centimeters","mi","miles","m","meters"]),tu.MODEL_SET=new Set(["simple","linear","ewma","holt","holt_winters"]),tu.SORT_MODE_SET=new Set(["min","max","sum","avg","median"]),tu.RESCORE_MODE_SET=new Set(["total","multiply","min","max","avg"]),tu.REWRITE_METHOD_SET=new Set(["constant_score","constant_score_auto","constant_score_filter","scoring_boolean","constant_score_boolean","top_terms_N","top_terms_boost_N","top_terms_blended_freqs_N"]),tu.MULTI_MATCH_TYPE=new Set(["best_fields","most_fields","cross_fields","phrase","phrase_prefix","bool_prefix"]),tu.SCORE_MODE_SET=new Set(["multiply","sum","first","min","max","avg"]),tu.BOOST_MODE_SET=new Set(["multiply","sum","replace","min","max","avg"]),tu.FIELD_MODIFIER_SET=new Set(["none","log","log1p","log2p","ln","ln1p","ln2p","square","sqrt","reciprocal"]),tu.NESTED_SCORE_MODE_SET=new Set(["none","sum","min","max","avg"]),tu.GEO_SHAPE_TYPES=new Set(["point","linestring","polygon","multipoint","multilinestring","multipolygon","geometrycollection","envelope","circle"]),tu.GEO_RELATION_SET=new Set(["WITHIN","CONTAINS","DISJOINT","INTERSECTS"]),tu.SUGGEST_MODE_SET=new Set(["missing","popular","always"]),tu.STRING_DISTANCE_SET=new Set(["internal","damerau_levenshtein","levenstein","jarowinkler","ngram"]),tu.SMOOTHING_MODEL_SET=new Set(["stupid_backoff","laplace","linear_interpolation"]);let{checkType:tc,invalidParam:th,recursiveToJSON:tl}=ef,{RESCORE_MODE_SET:tg}=tu,tp=th("https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-rescore.html","score_mode",tg),td=class{constructor(e,t){this._body={},this._rescoreOpts=this._body.query={},ep(e)||(this._body.window_size=e),ep(t)||this.rescoreQuery(t)}windowSize(e){return this._body.window_size=e,this}rescoreQuery(e){return tc(e,ts),this._rescoreOpts.rescore_query=e,this}queryWeight(e){return this._rescoreOpts.query_weight=e,this}rescoreQueryWeight(e){return this._rescoreOpts.rescore_query_weight=e,this}scoreMode(e){ep(e)&&tp(e);let t=e.toLowerCase();return tg.has(t)||tp(e),this._rescoreOpts.score_mode=t,this}toJSON(){return tl(this._body)}},t_=class{constructor(e,t){if(this._isTypeSet=!1,this._body={},!ep(e)&&!ep(t)){let r=e.toLowerCase();switch(r){case"inline":this.inline(t);break;case"source":this.source(t);break;case"stored":this.stored(t);break;case"id":this.id(t);break;case"file":this.file(t);break;default:throw Error("`type` must be one of `inline`, `stored`, `file`")}}}_warn(e){console.warn(`[Script] ${e}`)}_checkMixedRepr(){this._isTypeSet&&(this._warn("Script source(`inline`/`source`/`stored`/`id`/`file`) was already specified!"),this._warn("Overwriting."),delete this._body.inline,delete this._body.source,delete this._body.stored,delete this._body.id,delete this._body.file)}inline(e){return this._checkMixedRepr(),this._body.inline=e,this._isTypeSet=!0,this}source(e){return this._checkMixedRepr(),this._body.source=e,this._isTypeSet=!0,this}stored(e){return this._checkMixedRepr(),this._body.stored=e,this._isTypeSet=!0,this}id(e){return this._checkMixedRepr(),this._body.id=e,this._isTypeSet=!0,this}file(e){return this._checkMixedRepr(),this._body.file=e,this._isTypeSet=!0,this}lang(e){return this._body.lang=e,this}params(e){return this._body.params=e,this}toJSON(){return this._body}},{checkType:tf,invalidParam:ty,recursiveToJSON:tm}=ef,{SORT_MODE_SET:tw,UNIT_SET:tb}=tu,tx="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-sort.html",tO=ty(tx,"order","'asc' or 'desc'"),tv=ty(tx,"mode",tw),tq=ty(tx,"distance_type","'plane' or 'arc'"),tS=ty(tx,"unit",tb),tA=class{constructor(e,t){this._opts={},this._geoPoint=null,this._script=null,ep(e)||(this._field=e),ep(t)||this.order(t)}order(e){ep(e)&&tO(e);let t=e.toLowerCase();return"asc"!==t&&"desc"!==t&&tO(e),this._opts.order=t,this}mode(e){ep(e)&&tv(e);let t=e.toLowerCase();return tw.has(t)||tv(e),this._opts.mode=t,this}nestedPath(e){return this._opts.nested_path=e,this}nestedFilter(e){return tf(e,ts),this._opts.nested_filter=e,this}nested(e){let{filter:t}=e;return ep(t)||tf(t,ts),this._opts.nested=e,this}missing(e){return this._opts.missing=e,this}unmappedType(e){return this._opts.unmapped_type=e,this}geoDistance(e){return this._geoPoint=e,this}distanceType(e){ep(e)&&tq(e);let t=e.toLowerCase();return"plane"!==t&&"arc"!==t&&tq(e),this._opts.distance_type=t,this}unit(e){return tb.has(e)||tS(e),this._opts.unit=e,this}script(e){return tf(e,t_),this._script=e,this}type(e){return this._opts.type=e,this}reverse(e){return this._opts.reverse=e,this}toJSON(){let e=ep(this._geoPoint),t=ep(this._script);if(e&&t){if(e_(this._opts))return this._field;if(1===Object.keys(this._opts).length&&eg(this._opts,"order"))return{[this._field]:this._opts.order}}return tm(e?t?{[this._field]:this._opts}:{_script:Object.assign({script:this._script},this._opts)}:{_geo_distance:Object.assign({[this._field]:this._geoPoint},this._opts)})}},{checkType:tT,invalidParam:tD,recursiveToJSON:tk}=ef,tQ="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-highlighting.html",tE=tD(tQ,"encoder","'default' or 'html'"),tj=tD(tQ,"type","'plain', 'postings' or 'fvh'"),tP=tD(tQ,"fragmenter","'simple' or 'span'"),tz=class{constructor(e){if(this._fields={},this._highlight={fields:this._fields},ep(e))return;ew(e)?this.field(e):this.fields(e)}_setFieldOption(e,t,r){if(ep(e)){this._highlight[t]=r;return}this.field(e),this._fields[e][t]=r}field(e){return ep(e)||eg(this._fields,e)||(this._fields[e]={}),this}fields(e){return tT(e,Array),e.forEach(e=>this.field(e)),this}preTags(e,t){return this._setFieldOption(t,"pre_tags",ew(e)?[e]:e),this}postTags(e,t){return this._setFieldOption(t,"post_tags",ew(e)?[e]:e),this}styledTagsSchema(){return this._highlight.tags_schema="styled",this}scoreOrder(e){return this._setFieldOption(e,"order","score"),this}fragmentSize(e,t){return this._setFieldOption(t,"fragment_size",e),this}numberOfFragments(e,t){return this._setFieldOption(t,"number_of_fragments",e),this}noMatchSize(e,t){return this._setFieldOption(t,"no_match_size",e),this}highlightQuery(e,t){return tT(e,ts),this._setFieldOption(t,"highlight_query",e),this}matchedFields(e,t){if(tT(e,Array),e_(t))throw Error("`matched_fields` requires field name to be passed");return this.type("fvh",t),this._setFieldOption(t,"matched_fields",e),this}phraseLimit(e){return this._highlight.phrase_limit=e,this}encoder(e){ep(e)&&tE(e);let t=e.toLowerCase();return"default"!==t&&"html"!==t&&tE(e),this._highlight.encoder=t,this}requireFieldMatch(e,t){return this._setFieldOption(t,"require_field_match",e),this}boundaryMaxScan(e,t){return this._setFieldOption(t,"boundary_max_scan",e),this}boundaryChars(e,t){return this._setFieldOption(t,"boundary_chars",e),this}type(e,t){ep(e)&&tj(e);let r=e.toLowerCase();return"plain"!==r&&"postings"!==r&&"fvh"!==r&&tj(e),this._setFieldOption(t,"type",r),this}forceSource(e,t){return this._setFieldOption(t,"force_source",e),this}fragmenter(e,t){ep(e)&&tP(e);let r=e.toLowerCase();return"simple"!==r&&"span"!==r&&tP(e),this._setFieldOption(t,"fragmenter",r),this}toJSON(){return tk(this._highlight)}},{checkType:t$,setDefault:tF,recursiveToJSON:tN}=ef,tC=class{constructor(e){this._body={},ep(e)||(this._body.name=e)}name(e){return this._body.name=e,this}from(e){return this._body.from=e,this}size(e){return this._body.size=e,this}sort(e){return t$(e,tA),tF(this._body,"sort",[]),this._body.sort.push(e),this}sorts(e){return e.forEach(e=>this.sort(e)),this}highlight(e){return t$(e,tz),this._body.highlight=e,this}explain(e){return this._body.explain=e,this}source(e){return this._body._source=e,this}storedFields(e){return this._body.stored_fields=e,this}scriptField(e,t){return tF(this._body,"script_fields",{}),this._body.script_fields[e]={script:t},this}scriptFields(e){return t$(e,Object),Object.keys(e).forEach(t=>this.scriptField(t,e[t])),this}docvalueFields(e){return this._body.docvalue_fields=e,this}version(e){return this._body.version=e,this}toJSON(){return tN(this._body)}},{checkType:tM,setDefault:tR,recursiveToJSON:tL}=ef;function tB(e){return Object.assign({},...tL(e))}let tG=class{constructor(){this._body={},this._aggs=[],this._suggests=[],this._suggestText=null}query(e){return tM(e,ts),this._body.query=e,this}agg(e){return this.aggregation(e)}aggregation(e){return tM(e,to),this._aggs.push(e),this}aggs(e){return this.aggregations(e)}aggregations(e){return tM(e,Array),e.forEach(e=>this.aggregation(e)),this}suggest(e){return tM(e,ta),this._suggests.push(e),this}suggestText(e){return this._suggestText=e,this}timeout(e){return this._body.timeout=e,this}from(e){return this._body.from=e,this}size(e){return this._body.size=e,this}terminateAfter(e){return this._body.terminate_after=e,this}sort(e){return tM(e,tA),tR(this._body,"sort",[]),this._body.sort.push(e),this}sorts(e){return e.forEach(e=>this.sort(e)),this}trackScores(e){return this._body.track_scores=e,this}trackTotalHits(e){return this._body.track_total_hits=e,this}source(e){return this._body._source=e,this}storedFields(e){return this._body.stored_fields=e,this}scriptField(e,t){return tR(this._body,"script_fields",{}),this._body.script_fields[e]={script:t},this}scriptFields(e){return tM(e,Object),Object.keys(e).forEach(t=>this.scriptField(t,e[t])),this}docvalueFields(e){return this._body.docvalue_fields=e,this}postFilter(e){return tM(e,ts),this._body.post_filter=e,this}highlight(e){return tM(e,tz),this._body.highlight=e,this}rescore(e){return tM(e,td),eg(this._body,"rescore")?(Array.isArray(this._body.rescore)||(this._body.rescore=[this._body.rescore]),this._body.rescore.push(e)):this._body.rescore=e,this}explain(e){return this._body.explain=e,this}version(e){return this._body.version=e,this}indexBoost(e,t){return this.indicesBoost(e,t)}indicesBoost(e,t){return tR(this._body,"indices_boost",[]),this._body.indices_boost.push({[e]:t}),this}minScore(e){return this._body.min_score=e,this}collapse(e,t,r){let s=this._body.collapse={field:e};return ep(t)||(tM(t,tC),s.inner_hits=t,s.max_concurrent_group_searches=r),this}searchAfter(e){return this._body.search_after=e,this}toJSON(){let e=tL(this._body);return e_(this._aggs)||(e.aggs=tB(this._aggs)),e_(this._suggests)&&ep(this._suggestText)||(e.suggest=tB(this._suggests),ep(this._suggestText)||(e.suggest.text=this._suggestText)),e}},{checkType:tI}=ef,tH=class{constructor(){this._point=null}_warn(e){console.warn(`[GeoPoint] ${e}`)}_warnMixedRepr(){this._warn("Do not mix with other representation!"),this._warn("Overwriting.")}_checkObjRepr(){ep(this._point)?this._point={}:eb(this._point)||(this._warnMixedRepr(),this._point={})}lat(e){return this._checkObjRepr(),this._point.lat=e,this}lon(e){return this._checkObjRepr(),this._point.lon=e,this}object(e){return tI(e,Object),ep(this._point)||this._warnMixedRepr(),this._point=e,this}array(e){return tI(e,Array),ep(this._point)||this._warnMixedRepr(),this._point=e,this}string(e){return ep(this._point)||this._warnMixedRepr(),this._point=e,this}toJSON(){return this._point}},{checkType:tJ,invalidParam:tU}=ef,{GEO_SHAPE_TYPES:tW}=tu,tV=tU("https://www.elastic.co/guide/en/elasticsearch/reference/current/geo-shape.html","type",tW),tK=class{constructor(e,t){this._body={},ep(e)||this.type(e),ep(t)||this.coordinates(t)}type(e){ep(e)&&tV(e);let t=e.toLowerCase();return tW.has(t)||tV(e),this._body.type=t,this}coordinates(e){return tJ(e,Array),this._body.coordinates=e,this}radius(e){return this._body.radius=e,this}toJSON(){if(!eg(this._body,"type")||!eg(this._body,"coordinates"))throw Error("For all types, both the inner `type` and `coordinates` fields are required.");return this._body}},tZ=class{constructor(e,t){this._body={},ep(e)||(this._body.id=e),ep(t)||(this._body.type=t)}id(e){return this._body.id=e,this}type(e){return this._body.type=e,this}index(e){return this._body.index=e,this}path(e){return this._body.path=e,this}toJSON(){return this._body}},{recursiveToJSON:tY}=ef,tX=class{constructor(e,t){if(this._isTypeSet=!1,this._body={},!ep(e)&&!ep(t)){let r=e.toLowerCase();if("inline"!==r&&"id"!==r&&"indexed"!==r&&"file"!==r)throw Error("`type` must be one of `inline`, `id`, `indexed`, `file`");this[r](t)}}_warn(e){console.warn(`[SearchTemplate] ${e}`)}_checkMixedRepr(){this._isTypeSet&&(this._warn("Search template source(`inline`/`id`/`file`) was already specified!"),this._warn("Overwriting."),delete this._body.file,delete this._body.id,delete this._body.file)}_setSource(e,t){return this._checkMixedRepr(),this._body[e]=t,this._isTypeSet=!0,this}inline(e){return this._setSource("inline",e)}id(e){return this._setSource("id",e)}indexed(e){return this.id(e)}file(e){return this._setSource("file",e)}params(e){return this._body.params=e,this}toJSON(){return tY(this._body)}};O.RequestBodySearch=tG,O.Aggregation=to,O.Query=ts,O.Suggester=ta,O.Script=t_,O.Highlight=tz,O.GeoPoint=tH,O.GeoShape=tK,O.IndexedShape=tZ,O.Sort=tA,O.Rescore=td,O.InnerHits=tC,O.SearchTemplate=tX,O.consts=tu,O.util=ef;var t0={};let{Query:t1}=O,{Query:t9}=O;var t4={};let{Query:t2}=O,t5=class extends t2{constructor(e,t){super(e),ep(t)||(this._queryOpts.query=t)}analyzer(e){return this._queryOpts.analyzer=e,this}minimumShouldMatch(e){return this._queryOpts.minimum_should_match=e,this}query(e){return this._queryOpts.query=e,this}},t3=t5,t7=class extends t3{constructor(e,t,r){super(e,r),ep(t)||(this._field=t)}field(e){return this._field=e,this}toJSON(){if(!eg(this._queryOpts,"query"))throw Error("Query string is required for full text query!");let e=Object.keys(this._queryOpts),t=1===e.length?this._queryOpts.query:this._queryOpts,r={[this.queryType]:{[this._field]:t}};return r}},t6=t7,t8=class extends t6{constructor(e,t,r,s){super(e,r,s),this._refUrl=t}minimumShouldMatch(){throw console.log(`Please refer ${this._refUrl}`),Error(`minimumShouldMatch is not supported in ${this.constructor.name}`)}slop(e){return this._queryOpts.slop=e,this}},{util:{checkType:re,setDefault:rt,invalidParam:rr}}=O,rs=t5,ri=rr("","operator","'AND' or 'OR'"),rn=class extends rs{constructor(e,t,r){super(e,r),this._refUrl=t}field(e){return rt(this._queryOpts,"fields",[]),this._queryOpts.fields.push(e),this}fields(e){return re(e,Array),rt(this._queryOpts,"fields",[]),this._queryOpts.fields=this._queryOpts.fields.concat(e),this}defaultOperator(e){ep(e)&&ri(e,this._refUrl);let t=e.toUpperCase();return"AND"!==t&&"OR"!==t&&ri(e,this._refUrl),this._queryOpts.default_operator=t,this}analyzeWildcard(e){return this._queryOpts.analyze_wildcard=e,this}lenient(e){return this._queryOpts.lenient=e,this}quoteFieldSuffix(e){return this._queryOpts.quote_field_suffix=e,this}allFields(e){return this._queryOpts.all_fields=e,this}};var ro={};let{inspect:ra}=tt,{util:{firstDigitPos:ru},consts:{REWRITE_METHOD_SET:rc}}=O;ro.validateRewiteMethod=function(e,t,r){if(!rc.has(e)){let s=`${e.substring(0,ru(e))}N`;if(!rc.has(s))throw console.log(`See ${r}`),console.warn(`Got '${t}' - ${e}`),Error(`The '${t}' parameter should belong to ${ra(rc)}`)}};let{util:{invalidParam:rh}}=O,rl=t7,{validateRewiteMethod:rg}=ro,rp="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html",rd=rh(rp,"operator","'and' or 'or'"),r_=rh(rp,"zero_terms_query","'all' or 'none'"),rf=class extends rl{constructor(e,t){super("match",e,t)}operator(e){ep(e)&&rd(e);let t=e.toLowerCase();return"and"!==t&&"or"!==t&&rd(e),this._queryOpts.operator=t,this}lenient(e){return this._queryOpts.lenient=e,this}fuzziness(e){return this._queryOpts.fuzziness=e,this}prefixLength(e){return this._queryOpts.prefix_length=e,this}maxExpansions(e){return this._queryOpts.max_expansions=e,this}rewrite(e){return rg(e,"rewrite",rp),this._queryOpts.rewrite=e,this}fuzzyRewrite(e){return rg(e,"fuzzy_rewrite",rp),this._queryOpts.fuzzy_rewrite=e,this}fuzzyTranspositions(e){return this._queryOpts.fuzzy_transpositions=e,this}zeroTermsQuery(e){ep(e)&&r_(e);let t=e.toLowerCase();return"all"!==t&&"none"!==t&&r_(e),this._queryOpts.zero_terms_query=t,this}cutoffFrequency(e){return this._queryOpts.cutoff_frequency=e,this}},ry=t8,rm=class extends ry{constructor(e,t){super("match_phrase","https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query-phrase.html",e,t)}},rw=t8,rb=class extends rw{constructor(e,t){super("match_phrase_prefix","https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query-phrase-prefix.html",e,t)}maxExpansions(e){return this._queryOpts.max_expansions=e,this}},{util:{checkType:rx,invalidParam:rO},consts:{MULTI_MATCH_TYPE:rv}}=O,rq=t5,{validateRewiteMethod:rS}=ro,rA="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-multi-match-query.html",rT=rO(rA,"type",rv),rD=rO(rA,"operator","'and' or 'or'"),rk=rO(rA,"behavior","'all' or 'none'"),rQ=class extends rq{constructor(e,t){super("multi_match",t),this._queryOpts.fields=[],ep(e)||(Array.isArray(e)?this.fields(e):this.field(e))}field(e){return this._queryOpts.fields.push(e),this}fields(e){return rx(e,Array),this._queryOpts.fields=this._queryOpts.fields.concat(e),this}type(e){ep(e)&&rT(e);let t=e.toLowerCase();return rv.has(t)||rT(e),this._queryOpts.type=t,this}tieBreaker(e){return this._queryOpts.tie_breaker=e,this}operator(e){ep(e)&&rD(e);let t=e.toLowerCase();return"and"!==t&&"or"!==t&&rD(e),this._queryOpts.operator=t,this}lenient(e){return this._queryOpts.lenient=e,this}slop(e){return this._queryOpts.slop=e,this}fuzziness(e){return this._queryOpts.fuzziness=e,this}prefixLength(e){return this._queryOpts.prefix_length=e,this}maxExpansions(e){return this._queryOpts.max_expansions=e,this}rewrite(e){return rS(e,"rewrite",rA),this._queryOpts.rewrite=e,this}fuzzyRewrite(e){return rS(e,"fuzzy_rewrite",rA),this._queryOpts.fuzzy_rewrite=e,this}zeroTermsQuery(e){ep(e)&&rk(e);let t=e.toLowerCase();return"all"!==t&&"none"!==t&&rk(e),this._queryOpts.zero_terms_query=e,this}cutoffFrequency(e){return this._queryOpts.cutoff_frequency=e,this}},{util:{invalidParam:rE,setDefault:rj}}=O,rP=t7,rz="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-common-terms-query.html",r$=rE(rz,"low_freq_operator","'and' or 'or'"),rF=rE(rz,"high_freq_operator","'and' or 'or'"),rN=class extends rP{constructor(e,t){super("common",e,t)}_warn(e){console.warn(`[CommonTermsQuery] ${e}`)}_warnMixedRepr(){this._warn("Do not mix with other representation!"),this._warn("Overwriting.")}_checkMinMatchRepr(){rj(this._queryOpts,"minimum_should_match",{})||eb(this._queryOpts.minimum_should_match)||(this._warnMixedRepr(),this._queryOpts.minimum_should_match={})}cutoffFrequency(e){return this._queryOpts.cutoff_frequency=e,this}lowFreqOperator(e){ep(e)&&r$(e);let t=e.toLowerCase();return"and"!==t&&"or"!==t&&r$(e),this._queryOpts.low_freq_operator=t,this}highFreqOperator(e){ep(e)&&rF(e);let t=e.toLowerCase();return"and"!==t&&"or"!==t&&rF(e),this._queryOpts.high_freq_operator=t,this}lowFreq(e){return this._checkMinMatchRepr(),this._queryOpts.minimum_should_match.low_freq=e,this}highFreq(e){return this._checkMinMatchRepr(),this._queryOpts.minimum_should_match.high_freq=e,this}disableCoord(e){return this._queryOpts.disable_coord=e,this}},rC=rn,{validateRewiteMethod:rM}=ro,rR="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html",rL=class extends rC{constructor(e){super("query_string",rR,e)}defaultField(e){return this._queryOpts.default_field=e,this}allowLeadingWildcard(e){return this._queryOpts.allow_leading_wildcard=e,this}enablePositionIncrements(e){return this._queryOpts.enable_position_increments=e,this}fuzzyMaxExpansions(e){return this._queryOpts.fuzzy_max_expansions=e,this}fuzziness(e){return this._queryOpts.fuzziness=e,this}fuzzyPrefixLength(e){return this._queryOpts.fuzzy_prefix_length=e,this}rewrite(e){return rM(e,"rewrite",rR),this._queryOpts.rewrite=e,this}fuzzyRewrite(e){return rM(e,"fuzzy_rewrite",rR),this._queryOpts.fuzzy_rewrite=e,this}phraseSlop(e){return this._queryOpts.phrase_slop=e,this}autoGeneratePhraseQueries(e){return this._queryOpts.auto_generate_phrase_queries=e,this}maxDeterminizedStates(e){return this._queryOpts.max_determinized_states=e,this}timeZone(e){return this._queryOpts.time_zone=e,this}splitOnWhitespace(e){return this._queryOpts.split_on_whitespace=e,this}useDisMax(e){return this._queryOpts.use_dis_max=e,this}tieBreaker(e){return this._queryOpts.tie_breaker=e,this}quoteAnalyzer(e){return this._queryOpts.quote_analyzer=e,this}escape(e){return this._queryOpts.escape=e,this}},rB=rn,rG=class extends rB{constructor(e){super("simple_query_string","https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html",e)}flags(e){return this._queryOpts.flags=e,this}},rI=t7,rH=class extends rI{constructor(e,t){super("neural",`${e}_retake_embedding`,{query_text:t})}};t4.FullTextQueryBase=t5,t4.MatchPhraseQueryBase=t8,t4.MonoFieldQueryBase=t7,t4.QueryStringQueryBase=rn,t4.MatchQuery=rf,t4.MatchPhraseQuery=rm,t4.MatchPhrasePrefixQuery=rb,t4.MultiMatchQuery=rQ,t4.CommonTermsQuery=rN,t4.QueryStringQuery=rL,t4.SimpleQueryStringQuery=rG,t4.NeuralQuery=rH;var rJ={};let{Query:rU}=O,rW=class extends rU{constructor(e,t,r){super(e),ep(t)||(this._field=t),ep(r)||(this._queryOpts.value=r)}field(e){return this._field=e,this}value(e){return this._queryOpts.value=e,this}toJSON(){if(!eg(this._queryOpts,"value"))throw Error("Value is required for term level query!");let e=1===Object.keys(this._queryOpts).length?this._queryOpts.value:this._queryOpts;return{[this.queryType]:{[this._field]:e}}}caseInsensitive(e=!0){return this._queryOpts.case_insensitive=e,this}},rV=rW;var rK=class extends rV{};let rZ=rW,rY=class extends rZ{constructor(e,t){super("term",e,t)}},{util:{checkType:rX}}=O,{Query:r0}=O,r1=class extends r0{constructor(e,t){super("terms"),this._isTermsLookup=!1,this._termsLookupOpts={},this._values=[],ep(e)||(this._field=e),ep(t)||(Array.isArray(t)?this.values(t):this.value(t))}_setTermsLookupOpt(e,t){this._isTermsLookup=!0,this._termsLookupOpts[e]=t}field(e){return this._field=e,this}value(e){return this._values.push(e),this}values(e){return rX(e,Array),this._values=this._values.concat(e),this}termsLookup(e){return rX(e,Object),this._isTermsLookup=!0,Object.assign(this._termsLookupOpts,e),this}index(e){return this._setTermsLookupOpt("index",e),this}type(e){return this._setTermsLookupOpt("type",e),this}id(e){return this._setTermsLookupOpt("id",e),this}path(e){return this._setTermsLookupOpt("path",e),this}routing(e){return this._setTermsLookupOpt("routing",e),this}toJSON(){return{[this.queryType]:Object.assign({},this._queryOpts,{[this._field]:this._isTermsLookup?this._termsLookupOpts:this._values})}}},{Query:r9,util:{checkType:r4}}=O,r2=class extends r9{constructor(e,t){super("terms_set"),this._queryOpts.terms=[],ep(e)||(this._field=e),ep(t)||(Array.isArray(t)?this.terms(t):this.term(t))}field(e){return this._field=e,this}term(e){return this._queryOpts.terms.push(e),this}terms(e){return r4(e,Array),this._queryOpts.terms=this._queryOpts.terms.concat(e),this}minimumShouldMatchField(e){return this._queryOpts.minimum_should_match_field=e,this}minimumShouldMatchScript(e){return this._queryOpts.minimum_should_match_script=e,this}toJSON(){return{[this.queryType]:{[this._field]:this._queryOpts}}}},{util:{invalidParam:r5},consts:{GEO_RELATION_SET:r3}}=O,r7=rK,r6="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-range-query.html",r8=r5(r6,"relation",r3),se=class extends r7{constructor(e){super("range",e)}value(){throw console.log(`Please refer ${r6}`),Error("value is not supported in RangeQuery")}gte(e){return this._queryOpts.gte=e,this}lte(e){return this._queryOpts.lte=e,this}gt(e){return this._queryOpts.gt=e,this}lt(e){return this._queryOpts.lt=e,this}from(e){return this._queryOpts.from=e,this}to(e){return this._queryOpts.to=e,this}includeLower(e){return this._queryOpts.include_lower=e,this}includeUpper(e){return this._queryOpts.include_upper=e,this}timeZone(e){return this._queryOpts.time_zone=e,this}format(e){return this._queryOpts.format=e,this}relation(e){ep(e)&&r8(e);let t=e.toUpperCase();return r3.has(t)||r8(e),this._queryOpts.relation=t,this}toJSON(){return{[this.queryType]:{[this._field]:this._queryOpts}}}},{Query:st}=O,sr=class extends st{constructor(e){super("exists"),ep(e)||(this._queryOpts.field=e)}field(e){return this._queryOpts.field=e,this}},ss=rK,{validateRewiteMethod:si}=ro,sn=class extends ss{constructor(e,t){super("prefix",e,t)}rewrite(e){return si(e,"rewrite","https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-prefix-query.html"),this._queryOpts.rewrite=e,this}},so=rK,{validateRewiteMethod:sa}=ro,su=class extends so{constructor(e,t){super("wildcard",e,t)}caseInsensitive(e){return this._queryOpts.case_insensitive=e,this}rewrite(e){return sa(e,"rewrite","https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-wildcard-query.html"),this._queryOpts.rewrite=e,this}},sc=rK,{validateRewiteMethod:sh}=ro,sl=class extends sc{constructor(e,t){super("regexp",e,t)}flags(e){return this._queryOpts.flags=e,this}caseInsensitive(e){return this._queryOpts.case_insensitive=e,this}maxDeterminizedStates(e){return this._queryOpts.max_determinized_states=e,this}rewrite(e){return sh(e,"rewrite","https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-regexp-query.html"),this._queryOpts.rewrite=e,this}},sg=rK,sp=class extends sg{constructor(e,t){super("fuzzy",e,t)}fuzziness(e){return this._queryOpts.fuzziness=e,this}prefixLength(e){return this._queryOpts.prefix_length=e,this}maxExpansions(e){return this._queryOpts.max_expansions=e,this}transpositions(e){return this._queryOpts.transpositions=e,this}},{Query:sd}=O,s_=class extends sd{constructor(e){super("type"),ep(e)||(this._queryOpts.value=e)}value(e){return this._queryOpts.value=e,this}type(e){return this.value(e)}},{Query:sf,util:{checkType:sy}}=O,sm=class extends sf{constructor(e,t){super("ids"),ep(e)||(this._queryOpts.type=e),ep(t)||this.values(t)}type(e){return this._queryOpts.type=e,this}values(e){return sy(e,Array),this._queryOpts.values=e,this}ids(e){return this.values(e)}};rJ.MultiTermQueryBase=rK,rJ.TermQuery=rY,rJ.TermsQuery=r1,rJ.TermsSetQuery=r2,rJ.RangeQuery=se,rJ.ExistsQuery=sr,rJ.PrefixQuery=sn,rJ.WildcardQuery=su,rJ.RegexpQuery=sl,rJ.FuzzyQuery=sp,rJ.TypeQuery=s_,rJ.IdsQuery=sm;var sw={},sb={};let{Query:sx,util:{checkType:sO,recursiveToJSON:sv}}=O,sq=class{constructor(e){this._name=e,this._body={},this._opts={}}filter(e){return sO(e,sx),this._body.filter=e,this}weight(e){return this._body.weight=e,this}toJSON(){let e=Object.assign({[this._name]:this._opts},this._body);return sv(e)}},sS=sq,sA=class extends sS{constructor(e){super("script_score"),ep(e)||(this._opts.script=e)}script(e){return this._opts.script=e,this}},sT=sq,{util:{recursiveToJSON:sD}}=O,sk=class extends sT{constructor(e){super(null),ep(e)||(this._body.weight=e)}toJSON(){return sD(this._body)}},sQ=sq,{util:{invalidParam:sE},consts:{FIELD_MODIFIER_SET:sj}}=O,sP=sq,sz=sE("https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-function-score-query.html#function-field-value-factor","modifier",sj),s$=class extends sP{constructor(e){super("field_value_factor"),ep(e)||(this._opts.field=e)}field(e){return this._opts.field=e,this}factor(e){return this._opts.factor=e,this}modifier(e){ep(e)&&sz(e);let t=e.toLowerCase();return sj.has(t)||sz(e),this._opts.modifier=t,this}missing(e){return this._opts.missing=e,this}},{util:{invalidParam:sF,recursiveToJSON:sN}}=O,sC=sq,sM=sF("https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-function-score-query.html#function-decay","mode","'linear', 'exp' or 'gauss'"),sR=class extends sC{constructor(e="gauss",t){super(e),ep(t)||(this._field=t)}mode(e){ep(e)&&sM(e);let t=e.toLowerCase();return"linear"!==t&&"exp"!==t&&"gauss"!==t&&sM(e),this._name=e,this}linear(){return this._name="linear",this}exp(){return this._name="exp",this}gauss(){return this._name="gauss",this}field(e){return this._field=e,this}origin(e){return this._opts.origin=e,this}scale(e){return this._opts.scale=e,this}offset(e){return this._opts.offset=e,this}decay(e){return this._opts.decay=e,this}toJSON(){let e=Object.assign({[this._name]:{[this._field]:this._opts}},this._body);return sN(e)}};sb.ScoreFunction=sq,sb.ScriptScoreFunction=sA,sb.WeightScoreFunction=sk,sb.RandomScoreFunction=class extends sQ{constructor(){super("random_score")}seed(e){return this._opts.seed=e,this}},sb.FieldValueFactorFunction=s$,sb.DecayScoreFunction=sR;let{Query:sL,util:{checkType:sB}}=O,sG=class extends sL{constructor(e){super("constant_score"),ep(e)||this.filter(e)}filter(e){return sB(e,sL),this._queryOpts.filter=e,this}query(e){return this.filter(e)}};var sI="__lodash_hash_undefined__",sH=1/0,sJ=/^\[object .+?Constructor\]$/,sU=/^(?:0|[1-9]\d*)$/,sW="object"==typeof b&&b&&b.Object===Object&&b,sV="object"==typeof self&&self&&self.Object===Object&&self,sK=sW||sV||Function("return this")();function sZ(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,s){for(var i=e.length,n=r+(s?1:-1);s?n--:++n<i;)if(t(e[n],n,e))return n;return -1}(e,s1,r);for(var s=r-1,i=e.length;++s<i;)if(e[s]===t)return s;return -1}(e,t,0)>-1}function sY(e,t,r){for(var s=-1,i=e?e.length:0;++s<i;)if(r(t,e[s]))return!0;return!1}function sX(e,t){for(var r=-1,s=e?e.length:0,i=Array(s);++r<s;)i[r]=t(e[r],r,e);return i}function s0(e,t){for(var r=-1,s=t.length,i=e.length;++r<s;)e[i+r]=t[r];return e}function s1(e){return e!=e}function s9(e,t){return e.has(t)}function s4(e,t){return function(r){return e(t(r))}}var s2=Array.prototype,s5=Function.prototype,s3=Object.prototype,s7=sK["__core-js_shared__"],s6=(n=/[^.]+$/.exec(s7&&s7.keys&&s7.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",s8=s5.toString,ie=s3.hasOwnProperty,it=s3.toString,ir=RegExp("^"+s8.call(ie).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),is=sK.Symbol,ii=s4(Object.getPrototypeOf,Object),io=s3.propertyIsEnumerable,ia=s2.splice,iu=is?is.isConcatSpreadable:void 0,ic=Object.getOwnPropertySymbols,ih=Math.max,il=ib(sK,"Map"),ig=ib(Object,"create");function ip(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function id(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function i_(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function iy(e){var t=-1,r=e?e.length:0;for(this.__data__=new i_;++t<r;)this.add(e[t])}function im(e,t){for(var r,s=e.length;s--;)if((r=e[s][0])===t||r!=r&&t!=t)return s;return -1}function iw(e,t){var r,s=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?s["string"==typeof t?"string":"hash"]:s.map}function ib(e,t){var r=null==e?void 0:e[t];return!(!ik(r)||s6&&s6 in r)&&(iD(r)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(r)?ir:sJ).test(function(e){if(null!=e){try{return s8.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(r))?r:void 0}ip.prototype.clear=function(){this.__data__=ig?ig(null):{}},ip.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ip.prototype.get=function(e){var t=this.__data__;if(ig){var r=t[e];return r===sI?void 0:r}return ie.call(t,e)?t[e]:void 0},ip.prototype.has=function(e){var t=this.__data__;return ig?void 0!==t[e]:ie.call(t,e)},ip.prototype.set=function(e,t){return this.__data__[e]=ig&&void 0===t?sI:t,this},id.prototype.clear=function(){this.__data__=[]},id.prototype.delete=function(e){var t=this.__data__,r=im(t,e);return!(r<0)&&(r==t.length-1?t.pop():ia.call(t,r,1),!0)},id.prototype.get=function(e){var t=this.__data__,r=im(t,e);return r<0?void 0:t[r][1]},id.prototype.has=function(e){return im(this.__data__,e)>-1},id.prototype.set=function(e,t){var r=this.__data__,s=im(r,e);return s<0?r.push([e,t]):r[s][1]=t,this},i_.prototype.clear=function(){this.__data__={hash:new ip,map:new(il||id),string:new ip}},i_.prototype.delete=function(e){return iw(this,e).delete(e)},i_.prototype.get=function(e){return iw(this,e).get(e)},i_.prototype.has=function(e){return iw(this,e).has(e)},i_.prototype.set=function(e,t){return iw(this,e).set(e,t),this},iy.prototype.add=iy.prototype.push=function(e){return this.__data__.set(e,sI),this},iy.prototype.has=function(e){return this.__data__.has(e)};var ix=ic?s4(ic,Object):ij,iO=ic?function(e){for(var t=[];e;)s0(t,ix(e)),e=ii(e);return t}:ij;function iv(e){return iA(e)||iS(e)||!!(iu&&e&&e[iu])}function iq(e){if("string"==typeof e||"symbol"==typeof(t=e)||iQ(t)&&"[object Symbol]"==it.call(t))return e;var t,r=e+"";return"0"==r&&1/e==-sH?"-0":r}function iS(e){return iQ(e)&&iT(e)&&ie.call(e,"callee")&&(!io.call(e,"callee")||"[object Arguments]"==it.call(e))}var iA=Array.isArray;function iT(e){var t;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!iD(e)}function iD(e){var t=ik(e)?it.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function ik(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function iQ(e){return!!e&&"object"==typeof e}var iE=(o=function(e,t){var r,s,i,n;return null==e?{}:(t=sX(function e(t,r,s,i,n){var o=-1,a=t.length;for(s||(s=iv),n||(n=[]);++o<a;){var u=t[o];r>0&&s(u)?r>1?e(u,r-1,s,i,n):s0(n,u):i||(n[n.length]=u)}return n}(t,1),iq),s=e,i=function(e,t,r,s){var i=-1,n=sZ,o=!0,a=e.length,u=[],c=t.length;if(!a)return u;r&&(t=sX(t,function(e){return r(e)})),s?(n=sY,o=!1):t.length>=200&&(n=s9,o=!1,t=new iy(t));e:for(;++i<a;){var h=e[i],l=r?r(h):h;if(h=s||0!==h?h:0,o&&l==l){for(var g=c;g--;)if(t[g]===l)continue e;u.push(h)}else n(t,l,s)||u.push(h)}return u}((r=iT(n=e)?function(e,t){var r,s=iA(e)||iS(e)?function(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}(e.length,String):[],i=s.length,n=!!i;for(var o in e)(t||ie.call(e,o))&&!(n&&("length"==o||(r=null==(r=i)?9007199254740991:r)&&("number"==typeof o||sU.test(o))&&o>-1&&o%1==0&&o<r))&&s.push(o);return s}(n,!0):function(e){if(!ik(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t,r,s=(r="function"==typeof(t=e&&e.constructor)&&t.prototype||s3,e===r),i=[];for(var n in e)"constructor"==n&&(s||!ie.call(e,n))||i.push(n);return i}(n),iA(e)?r:s0(r,iO(e))),t),function(e,t,r){for(var s=-1,i=t.length,n={};++s<i;){var o=t[s],a=e[o];r(a,o)&&(n[o]=a)}return n}(s=Object(s),i,function(e,t){return t in s}))},a=ih(void 0===a?o.length-1:a,0),function(){for(var e=arguments,t=-1,r=ih(e.length-a,0),s=Array(r);++t<r;)s[t]=e[a+t];t=-1;for(var i=Array(a+1);++t<a;)i[t]=e[t];return i[a]=s,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(o,this,i)});function ij(){return[]}let{Query:iP,util:{checkType:iz,setDefault:i$,recursiveToJSON:iF}}=O,iN=class extends iP{constructor(){super("bool")}_addQuery(e,t){iz(t,iP),this._queryOpts[e].push(t)}_addQueries(e,t){i$(this._queryOpts,e,[]),Array.isArray(t)?t.forEach(t=>this._addQuery(e,t)):this._addQuery(e,t)}must(e){return this._addQueries("must",e),this}filter(e){return this._addQueries("filter",e),this}mustNot(e){return this._addQueries("must_not",e),this}should(e){return this._addQueries("should",e),this}disableCoord(e){return this._queryOpts.disable_coord=e,this}minimumShouldMatch(e){return this._queryOpts.minimum_should_match=e,this}adjustPureNegative(e){return this._queryOpts.adjust_pure_negative=e,this}toJSON(){let e=["must","filter","must_not","should"],t=e.filter(e=>eg(this._queryOpts,e)).reduce((e,t)=>{let r=this._queryOpts[t];return e[t]=iF(1===r.length?r&&r.length?r[0]:void 0:r),e},iE(this._queryOpts,e));return{[this.queryType]:t}}},{Query:iC,util:{checkType:iM,setDefault:iR}}=O,iL=class extends iC{constructor(){super("dis_max")}_addQuery(e){iM(e,iC),this._queryOpts.queries.push(e)}tieBreaker(e){return this._queryOpts.tie_breaker=e,this}queries(e){return iR(this._queryOpts,"queries",[]),Array.isArray(e)?e.forEach(e=>this._addQuery(e)):this._addQuery(e),this}},{Query:iB,util:{checkType:iG,invalidParam:iI},consts:{SCORE_MODE_SET:iH,BOOST_MODE_SET:iJ}}=O,{ScoreFunction:iU}=sb,iW="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-function-score-query.html",iV=iI(iW,"score_mode",iH),iK=iI(iW,"boost_mode",iJ),iZ=class extends iB{constructor(){super("function_score"),this._queryOpts.functions=[]}query(e){return iG(e,iB),this._queryOpts.query=e,this}scoreMode(e){ep(e)&&iV(e);let t=e.toLowerCase();return iH.has(t)||iV(e),this._queryOpts.score_mode=e,this}boostMode(e){ep(e)&&iK(e);let t=e.toLowerCase();return iJ.has(t)||iK(e),this._queryOpts.boost_mode=t,this}maxBoost(e){return this._queryOpts.max_boost=e,this}minScore(e){return this._queryOpts.min_score=e,this}function(e){return iG(e,iU),this._queryOpts.functions.push(e),this}functions(e){return iG(e,Array),e.forEach(e=>this.function(e)),this}},{Query:iY,util:{checkType:iX}}=O,i0=class extends iY{constructor(e,t,r){super("boosting"),ep(e)||this.positive(e),ep(t)||this.negative(t),ep(r)||(this._queryOpts.negative_boost=r)}positive(e){return iX(e,iY),this._queryOpts.positive=e,this}negative(e){return iX(e,iY),this._queryOpts.negative=e,this}negativeBoost(e){return this._queryOpts.negative_boost=e,this}};sw.scoreFunctions=sb,sw.ConstantScoreQuery=sG,sw.BoolQuery=iN,sw.DisMaxQuery=iL,sw.FunctionScoreQuery=iZ,sw.BoostingQuery=i0;var i1={};let{Query:i9,InnerHits:i4,util:{checkType:i2,invalidParam:i5},consts:{NESTED_SCORE_MODE_SET:i3}}=O,i7=i5("","score_mode",i3),i6=class extends i9{constructor(e,t,r){super(e),this.refUrl=t,ep(r)||this.query(r)}query(e){return i2(e,i9),this._queryOpts.query=e,this}scoreMode(e){ep(e)&&i7(e);let t=e.toLowerCase();return i3.has(t)||i7(e),this._queryOpts.score_mode=t,this}ignoreUnmapped(e){return this._queryOpts.ignore_unmapped=e,this}innerHits(e){return i2(e,i4),this._queryOpts.inner_hits=e,this}},i8=i6,ne=class extends i8{constructor(e,t){super("nested","https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-nested-query.html",e),ep(t)||(this._queryOpts.path=t)}path(e){return this._queryOpts.path=e,this}},nt=i6,nr=class extends nt{constructor(e,t){super("has_child","https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-has-child-query.html",e),ep(t)||(this._queryOpts.type=t)}type(e){return this._queryOpts.type=e,this}childType(e){return console.warn("[HasChildQuery] Field `child_type` is deprecated. Use `type` instead."),this.type(e)}minChildren(e){return this._queryOpts.min_children=e,this}maxChildren(e){return this._queryOpts.max_children=e,this}},ns=i6,ni="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-has-parent-query.html",nn=class extends ns{constructor(e,t){super("has_parent",ni,e),ep(t)||(this._queryOpts.parent_type=t)}scoreMode(){throw console.log("`score_mode` is deprecated. Use `score` instead"),console.log(`Please refer ${ni}`),Error("scoreMode is not supported in HasParentQuery")}type(e){return this.parentType(e)}parentType(e){return this._queryOpts.parent_type=e,this}score(e){return this._queryOpts.score=e,this}},{Query:no}=O,na=class extends no{constructor(e,t){super("parent_id"),ep(e)||(this._queryOpts.type=e),ep(t)||(this._queryOpts.id=t)}type(e){return this._queryOpts.type=e,this}id(e){return this._queryOpts.id=e,this}ignoreUnmapped(e){return this._queryOpts.ignore_unmapped=e,this}};i1.JoiningQueryBase=i6,i1.NestedQuery=ne,i1.HasChildQuery=nr,i1.HasParentQuery=nn,i1.ParentIdQuery=na;var nu={};let{Query:nc,util:{invalidParam:nh,recursiveToJSON:nl}}=O,ng=nh("","validation_method","'IGNORE_MALFORMED', 'COERCE' or 'STRICT'"),np=class extends nc{constructor(e,t){super(e),this._field=null,this._fieldOpts={},ep(t)||(this._field=t)}field(e){return this._field=e,this}validationMethod(e){ep(e)&&ng(e);let t=e.toUpperCase();return"IGNORE_MALFORMED"!==t&&"COERCE"!==t&&"STRICT"!==t&&ng(e),this._queryOpts.validation_method=t,this}toJSON(){return nl({[this.queryType]:Object.assign({[this._field]:this._fieldOpts},this._queryOpts)})}},{GeoShape:nd,IndexedShape:n_,util:{checkType:nf,invalidParam:ny},consts:{GEO_RELATION_SET:nm}}=O,nw=np,nb="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-geo-shape-query.html",nx=ny(nb,"relation",nm),nO=class extends nw{constructor(e){super("geo_shape",e)}validationMethod(){throw console.log(`Please refer ${nb}`),Error("validationMethod is not supported in GeoShapeQuery")}shape(e){return nf(e,nd),this._fieldOpts.shape=e,this}indexedShape(e){return nf(e,n_),this._fieldOpts.indexed_shape=e,this}relation(e){ep(e)&&nx(e);let t=e.toUpperCase();return nm.has(t)||nx(e),this._fieldOpts.relation=t,this}ignoreUnmapped(e){return this._queryOpts.ignore_unmapped=e,this}},{GeoPoint:nv,util:{checkType:nq,invalidParam:nS}}=O,nA=np,nT=nS("https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-geo-bounding-box-query.html","type","'memory' or 'indexed'"),nD=class extends nA{constructor(e){super("geo_bounding_box",e)}topLeft(e){return nq(e,nv),this._fieldOpts.top_left=e,this}bottomRight(e){return nq(e,nv),this._fieldOpts.bottom_right=e,this}topRight(e){return nq(e,nv),this._fieldOpts.top_right=e,this}bottomLeft(e){return nq(e,nv),this._fieldOpts.bottom_left=e,this}top(e){return this._fieldOpts.top=e,this}left(e){return this._fieldOpts.left=e,this}bottom(e){return this._fieldOpts.bottom=e,this}right(e){return this._fieldOpts.right=e,this}type(e){ep(e)&&nT(e);let t=e.toLowerCase();return"memory"!==t&&"indexed"!==t&&nT(e),this._queryOpts.type=t,this}},{GeoPoint:nk,util:{checkType:nQ,invalidParam:nE}}=O,nj=np,nP=nE("https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-geo-distance-query.html","distance_type","'plane' or 'arc'"),nz=class extends nj{constructor(e,t){super("geo_distance",e),ep(t)||this.geoPoint(t)}distance(e){return this._queryOpts.distance=e,this}distanceType(e){ep(e)&&nP(e);let t=e.toLowerCase();return"plane"!==t&&"arc"!==t&&nP(e),this._queryOpts.distance_type=t,this}geoPoint(e){return nQ(e,nk),this._fieldOpts=e,this}},{util:{checkType:n$}}=O,nF=np,nN=class extends nF{constructor(e){super("geo_polygon",e)}points(e){return n$(e,Array),this._fieldOpts.points=e,this}};nu.GeoQueryBase=np,nu.GeoShapeQuery=nO,nu.GeoBoundingBoxQuery=nD,nu.GeoDistanceQuery=nz,nu.GeoPolygonQuery=nN;var nC={};let{Query:nM,util:{checkType:nR}}=O,nL=class extends nM{constructor(){super("more_like_this")}_setSearchClause(e,t){Array.isArray(t)?this._queryOpts[e]=t:eg(this._queryOpts,e)?(Array.isArray(this._queryOpts[e])||(this._queryOpts[e]=[this._queryOpts[e]]),this._queryOpts[e].push(t)):this._queryOpts[e]=t}fields(e){return nR(e,Array),this._queryOpts.fields=e,this}like(e){return this._setSearchClause("like",e),this}unlike(e){return this._setSearchClause("unlike",e),this}likeText(e){return this._queryOpts.like_text=e,this}ids(e){return nR(e,Array),this._queryOpts.ids=e,this}docs(e){return nR(e,Array),this._queryOpts.docs=e,this}maxQueryTerms(e){return this._queryOpts.max_query_terms=e,this}minTermFreq(e){return this._queryOpts.min_term_freq=e,this}minDocFreq(e){return this._queryOpts.min_doc_freq=e,this}maxDocFreq(e){return this._queryOpts.max_doc_freq=e,this}minWordLength(e){return this._queryOpts.min_word_length=e,this}maxWordLength(e){return this._queryOpts.max_word_length=e,this}stopWords(e){return this._queryOpts.stop_words=e,this}analyzer(e){return this._queryOpts.analyzer=e,this}minimumShouldMatch(e){return this._queryOpts.minimum_should_match=e,this}boostTerms(e){return this._queryOpts.boost_terms=e,this}include(e){return this._queryOpts.include=e,this}},{Query:nB,Script:nG,util:{checkType:nI}}=O,nH=class extends nB{constructor(e){super("script"),ep(e)||this.script(e)}script(e){return nI(e,nG),this._queryOpts.script=e,this}},{util:{checkType:nJ},Query:nU}=O,nW=class extends nU{constructor(e,t){super("percolate"),this._queryOpts.documents=[],ep(e)||(this._queryOpts.field=e),ep(t)||(this._queryOpts.document_type=t)}field(e){return this._queryOpts.field=e,this}documentType(e){return this._queryOpts.document_type=e,this}document(e){return this._queryOpts.documents.push(e),this}documents(e){return nJ(e,Array),this._queryOpts.documents=this._queryOpts.documents.concat(e),this}index(e){return this._queryOpts.index=e,this}type(e){return this._queryOpts.type=e,this}id(e){return this._queryOpts.id=e,this}routing(e){return this._queryOpts.routing=e,this}preference(e){return this._queryOpts.preference=e,this}version(e){return this._queryOpts.version=e,this}},{Query:nV}=O,nK=class extends nV{constructor(e){super("distance_feature"),ep(e)||(this._queryOpts.field=e)}field(e){return this._queryOpts.field=e,this}origin(e){return this._queryOpts.origin=e,this}pivot(e){return this._queryOpts.pivot=e,this}};nC.MoreLikeThisQuery=nL,nC.ScriptQuery=nH,nC.PercolateQuery=nW,nC.DistanceFeatureQuery=nK;var nZ={};let{Query:nY}=O;var nX=class extends nY{};let{util:{checkType:n0}}=O,n1=nX,n9=class extends n1{little(e){return n0(e,n1),this._queryOpts.little=e,this}big(e){return n0(e,n1),this._queryOpts.big=e,this}},n4=nX,n2=class extends n4{constructor(e,t){super("span_term"),ep(e)||(this._field=e),ep(t)||(this._queryOpts.value=t)}field(e){return this._field=e,this}value(e){return this._queryOpts.value=e,this}toJSON(){if(!eg(this._queryOpts,"value"))throw Error("Value is required for Span term query!");let e=1===Object.keys(this._queryOpts).length?this._queryOpts.value:this._queryOpts;return{[this.queryType]:{[this._field]:e}}}},{util:{checkType:n5}}=O,{MultiTermQueryBase:n3}=rJ,n7=nX,n6=class extends n7{constructor(e){super("span_multi"),ep(e)||this.match(e)}match(e){return n5(e,n3),this._queryOpts.match=e,this}},{util:{checkType:n8}}=O,oe=nX,ot=class extends oe{constructor(e){super("span_first"),ep(e)||this.match(e)}match(e){return n8(e,oe),this._queryOpts.match=e,this}end(e){return this._queryOpts.end=e,this}},{util:{checkType:or}}=O,os=nX,oi=class extends os{constructor(){super("span_near")}clauses(e){return or(e,Array),e.forEach(e=>or(e,os)),this._queryOpts.clauses=e,this}slop(e){return this._queryOpts.slop=e,this}inOrder(e){return this._queryOpts.in_order=e,this}},{util:{checkType:on}}=O,oo=nX,oa=class extends oo{constructor(){super("span_or")}clauses(e){return on(e,Array),e.forEach(e=>on(e,oo)),this._queryOpts.clauses=e,this}},{util:{checkType:ou}}=O,oc=nX,oh=class extends oc{constructor(){super("span_not")}include(e){return ou(e,oc),this._queryOpts.include=e,this}exclude(e){return ou(e,oc),this._queryOpts.exclude=e,this}pre(e){return this._queryOpts.pre=e,this}post(e){return this._queryOpts.post=e,this}dist(e){return this._queryOpts.dist=e,this}},ol=n9,og=n9,{util:{checkType:op}}=O,od=nX,o_=class extends od{constructor(e,t){super("field_masking_span"),ep(e)||(this._queryOpts.field=e),ep(t)||this.query(t)}query(e){return op(e,od),this._queryOpts.query=e,this}field(e){return this._queryOpts.field=e,this}};nZ.SpanLittleBigQueryBase=n9,nZ.SpanTermQuery=n2,nZ.SpanMultiTermQuery=n6,nZ.SpanFirstQuery=ot,nZ.SpanNearQuery=oi,nZ.SpanOrQuery=oa,nZ.SpanNotQuery=oh,nZ.SpanContainingQuery=class extends ol{constructor(){super("span_containing")}},nZ.SpanWithinQuery=class extends og{constructor(){super("span_within")}},nZ.SpanFieldMaskingQuery=o_,t0.MatchAllQuery=class extends t1{constructor(){super("match_all")}},t0.MatchNoneQuery=class extends t9{constructor(){super("match_none")}},t0.fullTextQueries=t4,t0.termLevelQueries=rJ,t0.compoundQueries=sw,t0.joiningQueries=i1,t0.geoQueries=nu,t0.specializedQueries=nC,t0.spanQueries=nZ;var of={},oy={};let{Aggregation:om,Script:ow,util:{checkType:ob}}=O,ox=class extends om{constructor(e,t,r){super(e,t),ep(r)||(this._aggsDef.field=r)}field(e){return this._aggsDef.field=e,this}script(e){return ob(e,ow),this._aggsDef.script=e,this}missing(e){return this._aggsDef.missing=e,this}format(e){return this._aggsDef.format=e,this}},oO=ox,ov=class extends oO{constructor(e,t){super(e,"avg",t)}},oq=ox,oS=class extends oq{constructor(e,t){super(e,"cardinality",t)}format(){throw console.log("Please refer https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-cardinality-aggregation.html"),Error("format is not supported in CardinalityAggregation")}precisionThreshold(e){return this._aggsDef.precision_threshold=e,this}},oA=ox,oT=class extends oA{constructor(e,t){super(e,"extended_stats",t)}sigma(e){return this._aggsDef.sigma=e,this}},oD=ox,ok="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-geobounds-aggregation.html",oQ=class extends oD{constructor(e,t){super(e,"geo_bounds",t)}format(){throw console.log(`Please refer ${ok}`),Error("format is not supported in GeoBoundsAggregation")}script(){throw console.log(`Please refer ${ok}`),Error("script is not supported in GeoBoundsAggregation")}wrapLongitude(e){return this._aggsDef.wrap_longitude=e,this}},oE=ox,oj=class extends oE{constructor(e,t){super(e,"geo_centroid",t)}format(){throw console.log("Please refer https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-geocentroid-aggregation.html"),Error("format is not supported in GeoCentroidAggregation")}},oP=ox,oz=class extends oP{constructor(e,t){super(e,"max",t)}},o$=ox,oF=class extends o${constructor(e,t){super(e,"min",t)}},{util:{checkType:oN}}=O,oC=ox,oM=class extends oC{constructor(e,t){super(e,"percentiles",t)}keyed(e){return this._aggsDef.keyed=e,this}percents(e){return oN(e,Array),this._aggsDef.percents=e,this}tdigest(e){return this._aggsDef.tdigest={compression:e},this}compression(e){return this._aggsDef.tdigest={compression:e},this}hdr(e){return this._aggsDef.hdr={number_of_significant_value_digits:e},this}},{util:{checkType:oR}}=O,oL=ox,oB=class extends oL{constructor(e,t,r){super(e,"percentile_ranks",t),ep(r)||this.values(r)}format(){throw console.log("Please refer https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-percentile-rank-aggregation.html"),Error("format is not supported in PercentileRanksAggregation")}keyed(e){return this._aggsDef.keyed=e,this}values(e){return oR(e,Array),this._aggsDef.values=e,this}tdigest(e){return this._aggsDef.tdigest={compression:e},this}compression(e){return this.tdigest(e)}hdr(e){return this._aggsDef.hdr={number_of_significant_value_digits:e},this}},oG=ox,oI="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-scripted-metric-aggregation.html",oH=class extends oG{constructor(e){super(e,"scripted_metric")}field(){throw console.log(`Please refer ${oI}`),Error("field is not supported in ScriptedMetricAggregation")}script(){throw console.log(`Please refer ${oI}`),Error("script is not supported in ScriptedMetricAggregation")}missing(){throw console.log(`Please refer ${oI}`),Error("missing is not supported in ScriptedMetricAggregation")}initScript(e){return this._aggsDef.init_script=e,this}mapScript(e){return this._aggsDef.map_script=e,this}combineScript(e){return this._aggsDef.combine_script=e,this}reduceScript(e){return this._aggsDef.reduce_script=e,this}params(e){return this._aggsDef.params=e,this}},oJ=ox,oU=class extends oJ{constructor(e,t){super(e,"stats",t)}},oW=ox,oV=class extends oW{constructor(e,t){super(e,"sum",t)}},oK=ox,{Highlight:oZ,Sort:oY,util:{checkType:oX,setDefault:o0}}=O,o1="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-top-hits-aggregation.html",o9=class extends oK{constructor(e){super(e,"top_hits")}field(){throw console.log(`Please refer ${o1}`),Error("field is not supported in TopHitsAggregation")}script(){throw console.log(`Please refer ${o1}`),Error("script is not supported in TopHitsAggregation")}missing(){throw console.log(`Please refer ${o1}`),Error("missing is not supported in TopHitsAggregation")}format(){throw console.log(`Please refer ${o1}`),Error("format is not supported in TopHitsAggregation")}from(e){return this._aggsDef.from=e,this}size(e){return this._aggsDef.size=e,this}sort(e){return oX(e,oY),o0(this._aggsDef,"sort",[]),this._aggsDef.sort.push(e),this}sorts(e){return e.forEach(e=>this.sort(e)),this}trackScores(e){return this._aggsDef.track_scores=e,this}version(e){return this._aggsDef.version=e,this}explain(e){return this._aggsDef.explain=e,this}highlight(e){return oX(e,oZ),this._aggsDef.highlight=e,this}source(e){return this._aggsDef._source=e,this}storedFields(e){return this._aggsDef.stored_fields=e,this}scriptField(e,t){return o0(this._aggsDef,"script_fields",{}),this._aggsDef.script_fields[e]={script:t},this}scriptFields(e){return oX(e,Object),Object.keys(e).forEach(t=>this.scriptField(t,e[t])),this}docvalueFields(e){return this._aggsDef.docvalue_fields=e,this}},o4=ox,o2=class extends o4{constructor(e,t){super(e,"value_count",t)}format(){throw console.log("Please refer https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-valuecount-aggregation.html"),Error("format is not supported in ValueCountAggregation")}};oy.MetricsAggregationBase=ox,oy.AvgAggregation=ov,oy.CardinalityAggregation=oS,oy.ExtendedStatsAggregation=oT,oy.GeoBoundsAggregation=oQ,oy.GeoCentroidAggregation=oj,oy.MaxAggregation=oz,oy.MinAggregation=oF,oy.PercentilesAggregation=oM,oy.PercentileRanksAggregation=oB,oy.ScriptedMetricAggregation=oH,oy.StatsAggregation=oU,oy.SumAggregation=oV,oy.TopHitsAggregation=o9,oy.ValueCountAggregation=o2;var o5={};let{Aggregation:o3,Script:o7,util:{checkType:o6}}=O,o8=class extends o3{constructor(e,t,r){super(e,t),ep(r)||(this._aggsDef.field=r)}field(e){return this._aggsDef.field=e,this}script(e){return o6(e,o7),this._aggsDef.script=e,this}},{util:{invalidParam:ae}}=O,at=o8,ar=ae("","direction","'asc' or 'desc'"),as=class extends at{constructor(e,t,r,s){super(e,t,r),ep(s)||(this._aggsDef.interval=s)}interval(e){return this._aggsDef.interval=e,this}format(e){return this._aggsDef.format=e,this}offset(e){return this._aggsDef.offset=e,this}order(e,t="desc"){ep(t)&&ar(t);let r=t.toLowerCase();return"asc"!==r&&"desc"!==r&&ar(t),eg(this._aggsDef,"order")?(Array.isArray(this._aggsDef.order)||(this._aggsDef.order=[this._aggsDef.order]),this._aggsDef.order.push({[e]:r})):this._aggsDef.order={[e]:r},this}minDocCount(e){return this._aggsDef.min_doc_count=e,this}extendedBounds(e,t){return this._aggsDef.extended_bounds={min:e,max:t},this}hardBounds(e,t){return this._aggsDef.hard_bounds={min:e,max:t},this}missing(e){return this._aggsDef.missing=e,this}keyed(e){return this._aggsDef.keyed=e,this}},{util:{checkType:ai}}=O,an=o8,ao=Object.prototype.hasOwnProperty,aa=class extends an{constructor(e,t,r){super(e,t,r),this._rangeRequiredKeys=["from","to"],this._aggsDef.ranges=[]}format(e){return this._aggsDef.format=e,this}range(e){if(ai(e,Object),!this._rangeRequiredKeys.some(ao,e))throw Error(`Invalid Range! Range must have at least one of ${this._rangeRequiredKeys}`);return this._aggsDef.ranges.push(e),this}ranges(e){return ai(e,Array),e.forEach(e=>this.range(e)),this}missing(e){return this._aggsDef.missing=e,this}keyed(e){return this._aggsDef.keyed=e,this}toJSON(){if(e_(this._aggsDef.ranges))throw Error("`ranges` cannot be empty.");return super.toJSON()}},{util:{invalidParam:au},consts:{EXECUTION_HINT_SET:ac}}=O,ah=o8,al=au("","execution_hint",ac),ag=class extends ah{constructor(e,t,r,s){super(e,t,s),this._refUrl=r}format(e){return this._aggsDef.format=e,this}minDocCount(e){return this._aggsDef.min_doc_count=e,this}shardMinDocCount(e){return this._aggsDef.shard_min_doc_count=e,this}size(e){return this._aggsDef.size=e,this}shardSize(e){return this._aggsDef.shard_size=e,this}missing(e){return this._aggsDef.missing=e,this}include(e){return this._aggsDef.include=e,this}exclude(e){return this._aggsDef.exclude=e,this}executionHint(e){ep(e)&&al(e,this._refUrl);let t=e.toLowerCase();return ac.has(t)||al(e,this._refUrl),this._aggsDef.execution_hint=e,this}},{Query:ap,Script:ad,util:{checkType:a_}}=O,af=ag,ay=class extends af{jlh(){return this._aggsDef.jlh={},this}mutualInformation(e=!0,t=!0){return this._aggsDef.mutual_information={include_negatives:e,background_is_superset:t},this}chiSquare(e=!0,t=!0){return this._aggsDef.chi_square={include_negatives:e,background_is_superset:t},this}gnd(e=!0){return this._aggsDef.gnd={background_is_superset:e},this}percentage(){return this._aggsDef.percentage={},this}scriptHeuristic(e){return a_(e,ad),this._aggsDef.script_heuristic={script:e},this}backgroundFilter(e){return a_(e,ap),this._aggsDef.background_filter=e,this}script(){throw console.log(`Please refer ${this._refUrl}`),Error(`script is not supported in ${this.constructor.name}`)}},{Query:am,util:{checkType:aw,setDefault:ab}}=O,ax=o8,aO="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-adjacency-matrix-aggregation.html",av=class extends ax{constructor(e){super(e,"adjacency_matrix")}field(){throw console.log(`Please refer ${aO}`),Error("field is not supported in AdjacencyMatrixAggregation")}script(){throw console.log(`Please refer ${aO}`),Error("script is not supported in AdjacencyMatrixAggregation")}filter(e,t){return aw(t,am),ab(this._aggsDef,"filters",{}),this._aggsDef.filters[e]=t,this}filters(e){return aw(e,Object),ab(this._aggsDef,"filters",{}),Object.assign(this._aggsDef.filters,e),this}separator(e){return this._aggsDef.separator=e,this}},aq=o8,aS="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-children-aggregation.html",aA=class extends aq{constructor(e){super(e,"children")}field(){throw console.log(`Please refer ${aS}`),Error("field is not supported in ChildrenAggregation")}script(){throw console.log(`Please refer ${aS}`),Error("script is not supported in ChildrenAggregation")}type(e){return this._aggsDef.type=e,this}};var aT={};let{util:{invalidParam:aD,recursiveToJSON:ak}}=O,aQ=aD("","order","'asc' or 'desc'"),aE=class{constructor(e,t,r,s){if(e_(e))throw Error("ValuesSourceBase `valueSrcType` cannot be empty");this._name=r,this._valueSrcType=e,this._refUrl=t,this._body={},this._opts=this._body[e]={},ep(s)||(this._opts.field=s)}field(e){return this._opts.field=e,this}script(e){return this._opts.script=e,this}valueType(e){return this._opts.value_type=e,this}order(e){ep(e)&&aQ(e,this._refUrl);let t=e.toLowerCase();return"asc"!==t&&"desc"!==t&&aQ(e,this._refUrl),this._opts.order=t,this}missing(e){return this._opts.missing=e,this}missingBucket(e){return this._opts.missing_bucket=e,this}toJSON(){return{[this._name]:ak(this._body)}}},aj=aE,aP=class extends aj{constructor(e,t){super("terms","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-composite-aggregation.html#_terms",e,t)}},az=aE,a$=class extends az{constructor(e,t,r){super("histogram","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-composite-aggregation.html#_histogram",e,t),ep(r)||(this._opts.interval=r)}interval(e){return this._opts.interval=e,this}},aF=aE,aN=class extends aF{constructor(e,t,r){super("date_histogram","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-composite-aggregation.html#_date_histogram",e,t),ep(r)||(this._opts.interval=r)}interval(e){return this._opts.interval=e,this}calendarInterval(e){return this._opts.calendar_interval=e,this}fixedInterval(e){return this._opts.fixed_interval=e,this}timeZone(e){return this._opts.time_zone=e,this}format(e){return this._opts.format=e,this}};aT.ValuesSourceBase=aE,aT.TermsValuesSource=aP,aT.HistogramValuesSource=a$,aT.DateHistogramValuesSource=aN;let{Aggregation:aC,util:{checkType:aM,constructorWrapper:aR}}=O,{ValuesSourceBase:aL,TermsValuesSource:aB,HistogramValuesSource:aG,DateHistogramValuesSource:aI}=aT,aH=class extends aC{constructor(e){super(e,"composite"),this._aggsDef.sources=[]}sources(...e){return e.forEach(e=>aM(e,aL)),this._aggsDef.sources=this._aggsDef.sources.concat(e),this}size(e){return this._aggsDef.size=e,this}after(e){return this._aggsDef.after=e,this}};aH.TermsValuesSource=aB,aH.termsValuesSource=aR(aB),aH.HistogramValuesSource=aG,aH.histogramValuesSource=aR(aG),aH.DateHistogramValuesSource=aI,aH.dateHistogramValuesSource=aR(aI);let aJ=as,aU=class extends aJ{constructor(e,t,r){super(e,"date_histogram",t,r)}timeZone(e){return this._aggsDef.time_zone=e,this}calendarInterval(e){return this._aggsDef.calendar_interval=e,this}fixedInterval(e){return this._aggsDef.fixed_interval=e,this}},aW=o8,aV=class extends aW{constructor(e,t,r){super(e,"auto_date_histogram",t),ep(r)||(this._aggsDef.buckets=r)}buckets(e){return this._aggsDef.buckets=e,this}minimumInterval(e){return this._aggsDef.minimum_interval=e,this}format(e){return this._aggsDef.format=e,this}missing(e){return this._aggsDef.missing=e,this}timeZone(e){return this._aggsDef.time_zone=e,this}},aK=o8,aZ=class extends aK{constructor(e,t,r){super(e,"variable_width_histogram",t),ep(r)||(this._aggsDef.buckets=r)}buckets(e){return this._aggsDef.buckets=e,this}},aY=aa,aX=class extends aY{constructor(e,t){super(e,"date_range",t)}timeZone(e){return this._aggsDef.time_zone=e,this}},{util:{invalidParam:a0},consts:{EXECUTION_HINT_SET:a1}}=O,a9=o8,a4=a0("https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-diversified-sampler-aggregation.html","execution_hint",a1),a2=class extends a9{constructor(e,t){super(e,"diversified_sampler",t)}shardSize(e){return this._aggsDef.shard_size=e,this}maxDocsPerValue(e){return this._aggsDef.max_docs_per_value=e,this}executionHint(e){ep(e)&&a4(e);let t=e.toLowerCase();return a1.has(t)||a4(e),this._aggsDef.execution_hint=t,this}},{Query:a5,util:{checkType:a3}}=O,a7=o8,a6="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-filter-aggregation.html",a8=class extends a7{constructor(e,t){super(e,"filter"),ep(t)||this.filter(t)}field(){throw console.log(`Please refer ${a6}`),Error("field is not supported in FilterAggregation")}script(){throw console.log(`Please refer ${a6}`),Error("script is not supported in FilterAggregation")}filter(e){return a3(e,a5),this._aggsDef=this._aggs[this.aggType]=e,this}},{Query:ue,util:{checkType:ut,setDefault:ur}}=O,us=o8,ui="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-filters-aggregation.html",un=class extends us{constructor(e){super(e,"filters")}field(){throw console.log(`Please refer ${ui}`),Error("field is not supported in FiltersAggregation")}script(){throw console.log(`Please refer ${ui}`),Error("script is not supported in FiltersAggregation")}_warn(e){console.warn(`[FiltersAggregation] ${e}`)}_checkNamedFilters(){!ur(this._aggsDef,"filters",{})&&Array.isArray(this._aggsDef.filters)&&(this._warn("Do not mix named and anonymous filters!"),this._warn("Overwriting anonymous filters."),this._aggsDef.filters={})}_checkAnonymousFilters(){ur(this._aggsDef,"filters",[])||Array.isArray(this._aggsDef.filters)||(this._warn("Do not mix named and anonymous filters!"),this._warn("Overwriting named filters."),this._aggsDef.filters=[])}filter(e,t){return ut(t,ue),this._checkNamedFilters(),this._aggsDef.filters[e]=t,this}filters(e){return ut(e,Object),this._checkNamedFilters(),Object.assign(this._aggsDef.filters,e),this}anonymousFilter(e){return ut(e,ue),this._checkAnonymousFilters(),this._aggsDef.filters.push(e),this}anonymousFilters(e){return ut(e,Array),this._checkAnonymousFilters(),this._aggsDef.filters=this._aggsDef.filters.concat(e),this}otherBucket(e,t){return this._aggsDef.other_bucket=e,e_(t)||this.otherBucketKey(t),this}otherBucketKey(e){return this._aggsDef.other_bucket_key=e,this}},{GeoPoint:uo,util:{checkType:ua,invalidParam:uu},consts:{UNIT_SET:uc}}=O,uh=aa,ul="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-geodistance-aggregation.html",ug=uu(ul,"unit",uc),up=uu(ul,"distance_type","'plane' or 'arc'"),ud=class extends uh{constructor(e,t){super(e,"geo_distance",t)}format(){throw console.log(`Please refer ${ul}`),Error("format is not supported in GeoDistanceAggregation")}script(){throw console.log(`Please refer ${ul}`),Error("script is not supported in GeoDistanceAggregation")}origin(e){return ua(e,uo),this._aggsDef.origin=e,this}unit(e){return uc.has(e)||ug(e),this._aggsDef.unit=e,this}distanceType(e){ep(e)&&up(e);let t=e.toLowerCase();return"plane"!==t&&"arc"!==t&&up(e),this._aggsDef.distance_type=t,this}},u_=o8,uf="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-geohashgrid-aggregation.html",uy=class extends u_{constructor(e,t){super(e,"geohash_grid",t)}format(){throw console.log(`Please refer ${uf}`),Error("format is not supported in GeoHashGridAggregation")}script(){throw console.log(`Please refer ${uf}`),Error("script is not supported in GeoHashGridAggregation")}precision(e){if(ep(e)||e<1||e>12)throw Error("`precision` can only be value from 1 to 12.");return this._aggsDef.precision=e,this}size(e){return this._aggsDef.size=e,this}shardSize(e){return this._aggsDef.shard_size=e,this}},um=o8,uw="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-geohexgrid-aggregation.html",ub=class extends um{constructor(e,t){super(e,"geohex_grid",t)}format(){throw console.log(`Please refer ${uw}`),Error("format is not supported in GeoHexGridAggregation")}script(){throw console.log(`Please refer ${uw}`),Error("script is not supported in GeoHexGridAggregation")}precision(e){if(ep(e)||e<0||e>15)throw Error("`precision` can only be value from 0 to 15.");return this._aggsDef.precision=e,this}size(e){return this._aggsDef.size=e,this}shardSize(e){return this._aggsDef.shard_size=e,this}},{GeoPoint:ux,util:{checkType:uO,setDefault:uv}}=O,uq=o8,uS="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-geotilegrid-aggregation.html",uA=class extends uq{constructor(e,t){super(e,"geotile_grid",t)}format(){throw console.log(`Please refer ${uS}`),Error("format is not supported in GeoTileGridAggregation")}script(){throw console.log(`Please refer ${uS}`),Error("script is not supported in GeoTileGridAggregation")}precision(e){if(ep(e)||e<0||e>29)throw Error("`precision` can only be value from 0 to 29.");return this._aggsDef.precision=e,this}size(e){return this._aggsDef.size=e,this}shardSize(e){return this._aggsDef.shard_size=e,this}topLeft(e){return uO(e,ux),uv(this._aggsDef,"bounds",{}),this._aggsDef.bounds.top_left=e,this}bottomRight(e){return uO(e,ux),uv(this._aggsDef,"bounds",{}),this._aggsDef.bounds.bottom_right=e,this}topRight(e){return uO(e,ux),uv(this._aggsDef,"bounds",{}),this._aggsDef.bounds.top_right=e,this}bottomLeft(e){return uO(e,ux),uv(this._aggsDef,"bounds",{}),this._aggsDef.bounds.bottom_left=e,this}top(e){return uv(this._aggsDef,"bounds",{}),this._aggsDef.bounds.top=e,this}left(e){return uv(this._aggsDef,"bounds",{}),this._aggsDef.bounds.left=e,this}bottom(e){return uv(this._aggsDef,"bounds",{}),this._aggsDef.bounds.bottom=e,this}right(e){return uv(this._aggsDef,"bounds",{}),this._aggsDef.bounds.right=e,this}},uT=o8,uD="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-global-aggregation.html",uk=class extends uT{constructor(e){super(e,"global")}field(){throw console.log(`Please refer ${uD}`),Error("field is not supported in GlobalAggregation")}script(){throw console.log(`Please refer ${uD}`),Error("script is not supported in GlobalAggregation")}},uQ=as,uE=class extends uQ{constructor(e,t,r){super(e,"histogram",t,r)}},uj=aa,uP=class extends uj{constructor(e,t){super(e,"ip_range",t),this._rangeRequiredKeys=["from","to","mask"]}format(){throw console.log("Please refer https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-iprange-aggregation.html"),Error("format is not supported in IpRangeAggregation")}},uz=o8,u$=class extends uz{constructor(e,t){super(e,"missing",t)}script(){throw console.log("Please refer https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-missing-aggregation.html"),Error("script is not supported in MissingAggregation")}},uF=o8,uN="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-nested-aggregation.html",uC=class extends uF{constructor(e,t){super(e,"nested"),ep(t)||(this._aggsDef.path=t)}field(){throw console.log(`Please refer ${uN}`),Error("field is not supported in NestedAggregation")}script(){throw console.log(`Please refer ${uN}`),Error("script is not supported in NestedAggregation")}path(e){return this._aggsDef.path=e,this}},uM=o8,uR="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-parent-aggregation.html",uL=class extends uM{constructor(e,t){super(e,"parent"),ep(t)||this.type(t)}field(){throw console.log(`Please refer ${uR}`),Error("field is not supported in ParentAggregation")}script(){throw console.log(`Please refer ${uR}`),Error("script is not supported in ParentAggregation")}type(e){return this._aggsDef.type=e,this}},uB=aa,uG=class extends uB{constructor(e,t){super(e,"range",t)}},uI=o8,uH=class extends uI{constructor(e,t){super(e,"rare_terms",t)}maxDocCount(e){if(ep(e)||e<1||e>100)throw Error("`maxDocCount` can only be value from 1 to 100.");return this._aggsDef.max_doc_count=e,this}precision(e){if(e<1e-5)throw Error("`precision` must be greater than 0.00001.");return this._aggsDef.precision=e,this}include(e){return this._aggsDef.include=e,this}exclude(e){return this._aggsDef.exclude=e,this}missing(e){return this._aggsDef.missing=e,this}script(){throw console.log("Please refer https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-rare-terms-aggregation.html"),Error("script is not supported in RareTermsAggregation")}},uJ=o8,uU="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-reverse-nested-aggregation.html",uW=class extends uJ{constructor(e,t){super(e,"reverse_nested"),ep(t)||(this._aggsDef.path=t)}field(){throw console.log(`Please refer ${uU}`),Error("field is not supported in ReverseNestedAggregation")}script(){throw console.log(`Please refer ${uU}`),Error("script is not supported in ReverseNestedAggregation")}path(e){return this._aggsDef.path=e,this}},uV=o8,uK="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-sampler-aggregation.html",uZ=class extends uV{constructor(e){super(e,"sampler")}field(){throw console.log(`Please refer ${uK}`),Error("field is not supported in SamplerAggregation")}script(){throw console.log(`Please refer ${uK}`),Error("script is not supported in SamplerAggregation")}shardSize(e){return this._aggsDef.shard_size=e,this}},uY=ay,uX=class extends uY{constructor(e,t){super(e,"significant_terms","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-significantterms-aggregation.html",t)}},{util:{checkType:u0}}=O,u1=ay,u9="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-significanttext-aggregation.html",u4=class extends u1{constructor(e,t){super(e,"significant_text",u9,t)}filterDuplicateText(e){return this._aggsDef.filter_duplicate_text=e,this}sourceFields(e){return u0(e,Array),this._aggsDef.source_fields=e,this}missing(){throw console.log(`Please refer ${u9}`),Error("missing is not supported in SignificantTextAggregation")}executionHint(){throw console.log(`Please refer ${u9}`),Error("executionHint is not supported in SignificantTextAggregation")}},{util:{invalidParam:u2}}=O,u5=ag,u3="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html",u7=u2(u3,"direction","'asc' or 'desc'"),u6=u2(u3,"mode","'breadth_first' or 'depth_first'"),u8=class extends u5{constructor(e,t){super(e,"terms",u3,t)}showTermDocCountError(e){return this._aggsDef.show_term_doc_count_error=e,this}includePartition(e,t){return this._aggsDef.include={partition:e,num_partitions:t},this}collectMode(e){ep(e)&&u6(e);let t=e.toLowerCase();return"breadth_first"!==t&&"depth_first"!==t&&u6(e),this._aggsDef.collect_mode=t,this}order(e,t="desc"){ep(t)&&u7(t);let r=t.toLowerCase();return"asc"!==r&&"desc"!==r&&u7(t),eg(this._aggsDef,"order")?(Array.isArray(this._aggsDef.order)||(this._aggsDef.order=[this._aggsDef.order]),this._aggsDef.order.push({[e]:r})):this._aggsDef.order={[e]:r},this}};o5.BucketAggregationBase=o8,o5.HistogramAggregationBase=as,o5.RangeAggregationBase=aa,o5.TermsAggregationBase=ag,o5.SignificantAggregationBase=ay,o5.AdjacencyMatrixAggregation=av,o5.ChildrenAggregation=aA,o5.CompositeAggregation=aH,o5.DateHistogramAggregation=aU,o5.AutoDateHistogramAggregation=aV,o5.VariableWidthHistogramAggregation=aZ,o5.DateRangeAggregation=aX,o5.DiversifiedSamplerAggregation=a2,o5.FilterAggregation=a8,o5.FiltersAggregation=un,o5.GeoDistanceAggregation=ud,o5.GeoHashGridAggregation=uy,o5.GeoHexGridAggregation=ub,o5.GeoTileGridAggregation=uA,o5.GlobalAggregation=uk,o5.HistogramAggregation=uE,o5.IpRangeAggregation=uP,o5.MissingAggregation=u$,o5.NestedAggregation=uC,o5.ParentAggregation=uL,o5.RangeAggregation=uG,o5.RareTermsAggregation=uH,o5.ReverseNestedAggregation=uW,o5.SamplerAggregation=uZ,o5.SignificantTermsAggregation=uX,o5.SignificantTextAggregation=u4,o5.TermsAggregation=u8;var ce={};let{Aggregation:ct,util:{invalidParam:cr}}=O,cs=cr("","gap_policy","'skip' or 'insert_zeros'"),ci=class extends ct{constructor(e,t,r,s){super(e,t),this._refUrl=r,ep(s)||(this._aggsDef.buckets_path=s)}bucketsPath(e){return this._aggsDef.buckets_path=e,this}gapPolicy(e){ep(e)&&cs(e,this._refUrl);let t=e.toLowerCase();return"skip"!==t&&"insert_zeros"!==t&&cs(e,this._refUrl),this._aggsDef.gap_policy=t,this}format(e){return this._aggsDef.format=e,this}},cn=ci,co=class extends cn{constructor(e,t){super(e,"avg_bucket","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-avg-bucket-aggregation.html",t)}},ca=ci,cu=class extends ca{constructor(e,t){super(e,"derivative","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-derivative-aggregation.html",t)}unit(e){return this._aggsDef.unit=e,this}},cc=ci,ch=class extends cc{constructor(e,t){super(e,"max_bucket","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-max-bucket-aggregation.html",t)}},cl=ci,cg=class extends cl{constructor(e,t){super(e,"min_bucket","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-min-bucket-aggregation.html",t)}},cp=ci,cd=class extends cp{constructor(e,t){super(e,"sum_bucket","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-sum-bucket-aggregation.html",t)}},c_=ci,cf=class extends c_{constructor(e,t){super(e,"stats_bucket","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-stats-bucket-aggregation.html",t)}},cy=ci,cm=class extends cy{constructor(e,t){super(e,"extended_stats_bucket","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-extended-stats-bucket-aggregation.html",t)}sigma(e){return this._aggsDef.sigma=e,this}},{util:{checkType:cw}}=O,cb=ci,cx=class extends cb{constructor(e,t){super(e,"percentiles_bucket","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-percentiles-bucket-aggregation.html",t)}percents(e){return cw(e,Array),this._aggsDef.percents=e,this}},{util:{invalidParam:cO},consts:{MODEL_SET:cv}}=O,cq=ci,cS="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-movavg-aggregation.html",cA=cO(cS,"model",cv),cT=class extends cq{constructor(e,t){super(e,"moving_avg",cS,t)}format(){throw console.log(`Please refer ${cS}`),Error("format is not supported in MovingAverageAggregation")}model(e){ep(e)&&cA(e);let t=e.toLowerCase();return cv.has(t)||cA(e),this._aggsDef.model=t,this}window(e){return this._aggsDef.window=e,this}minimize(e){return this._aggsDef.minimize=e,this}settings(e){return this._aggsDef.settings=e,this}predict(e){return this._aggsDef.predict=e,this}},cD=ci,ck=class extends cD{constructor(e,t,r,s){super(e,"moving_fn","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-movfn-aggregation.html",t),ep(r)||(this._aggsDef.window=r),ep(s)||(this._aggsDef.script=s)}window(e){return this._aggsDef.window=e,this}shift(e){return this._aggsDef.shift=e,this}script(e){return this._aggsDef.script=e,this}},cQ=ci,cE="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-cumulative-sum-aggregation.html",cj=class extends cQ{constructor(e,t){super(e,"cumulative_sum",cE,t)}gapPolicy(){throw console.log(`Please refer ${cE}`),Error("gapPolicy is not supported in CumulativeSumAggregation")}},cP=ci,cz=class extends cP{constructor(e,t){super(e,"bucket_script","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-bucket-script-aggregation.html",t)}script(e){return this._aggsDef.script=e,this}},c$=ci,cF="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-bucket-selector-aggregation.html",cN=class extends c${constructor(e,t){super(e,"bucket_selector",cF,t)}format(){throw console.log(`Please refer ${cF}`),Error("format is not supported in BucketSelectorAggregation")}script(e){return this._aggsDef.script=e,this}},cC=ci,cM=class extends cC{constructor(e,t){super(e,"serial_diff","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-serialdiff-aggregation.html",t)}lag(e){return this._aggsDef.lag=e,this}},cR=ci,cL=class extends cR{constructor(e){super(e,"bucket_sort","https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-bucket-sort-aggregation.html")}sort(e){return this._aggsDef.sort=e,this}from(e){return this._aggsDef.from=e,this}size(e){return this._aggsDef.size=e,this}};ce.PipelineAggregationBase=ci,ce.AvgBucketAggregation=co,ce.DerivativeAggregation=cu,ce.MaxBucketAggregation=ch,ce.MinBucketAggregation=cg,ce.SumBucketAggregation=cd,ce.StatsBucketAggregation=cf,ce.ExtendedStatsBucketAggregation=cm,ce.PercentilesBucketAggregation=cx,ce.MovingAverageAggregation=cT,ce.MovingFunctionAggregation=ck,ce.CumulativeSumAggregation=cj,ce.BucketScriptAggregation=cz,ce.BucketSelectorAggregation=cN,ce.SerialDifferencingAggregation=cM,ce.BucketSortAggregation=cL;var cB={};let{Aggregation:cG,util:{checkType:cI}}=O,cH=class extends cG{constructor(e,t){super(e,"matrix_stats"),ep(t)||this.fields(t)}fields(e){return cI(e,Array),this._aggsDef.fields=e,this}mode(e){return this._aggsDef.mode=e,this}missing(e){return this._aggsDef.missing=e,this}};cB.MatrixStatsAggregation=cH,of.metricsAggregations=oy,of.bucketAggregations=o5,of.pipelineAggregations=ce,of.matrixAggregations=cB;var cJ={};let{Suggester:cU}=O,cW=class extends cU{constructor(e,t,r,s){super(e,t,r),ep(s)||(this._opts.text=s)}text(e){return this._opts.text=e,this}analyzer(e){return this._suggestOpts.analyzer=e,this}shardSize(e){return this._suggestOpts.shard_size=e,this}},{consts:{SUGGEST_MODE_SET:cV,STRING_DISTANCE_SET:cK},util:{invalidParam:cZ}}=O,cY=cW,cX="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters-term.html",c0=cZ(cX,"sort","'score' or 'frequency'"),c1=cZ(cX,"suggest_mode",cV),c9=cZ(cX,"string_distance",cK),c4=class extends cY{constructor(e,t,r){super("term",e,t,r)}sort(e){ep(e)&&c0(e);let t=e.toLowerCase();return"score"!==t&&"frequency"!==t&&c0(e),this._suggestOpts.sort=t,this}suggestMode(e){ep(e)&&c1(e);let t=e.toLowerCase();return cV.has(t)||c1(e),this._suggestOpts.suggest_mode=t,this}maxEdits(e){return this._suggestOpts.max_edits=e,this}prefixLength(e){return this._suggestOpts.prefix_length=e,this}minWordLength(e){return this._suggestOpts.min_word_length=e,this}maxInspections(e){return this._suggestOpts.max_inspections=e,this}minDocFreq(e){return this._suggestOpts.min_doc_freq=e,this}maxTermFreq(e){return this._suggestOpts.max_term_freq=e,this}stringDistance(e){ep(e)&&c9(e);let t=e.toLowerCase();return cK.has(t)||c9(e),this._suggestOpts.string_distance=t,this}},{consts:{SUGGEST_MODE_SET:c2},util:{invalidParam:c5}}=O,c3=c5("https://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters-phrase.html#_direct_generators","suggest_mode",c2),c7=class{constructor(e){this._body={},ep(e)||(this._body.field=e)}field(e){return this._body.field=e,this}size(e){return this._body.size=e,this}suggestMode(e){ep(e)&&c3(e);let t=e.toLowerCase();return c2.has(t)||c3(e),this._body.suggest_mode=t,this}maxEdits(e){return this._body.max_edits=e,this}prefixLength(e){return this._body.prefix_length=e,this}minWordLength(e){return this._body.min_word_length=e,this}maxInspections(e){return this._body.max_inspections=e,this}minDocFreq(e){return this._body.min_doc_freq=e,this}maxTermFreq(e){return this._body.max_term_freq=e,this}preFilter(e){return this._body.pre_filter=e,this}postFilter(e){return this._body.post_filter=e,this}toJSON(){return this._body}},{consts:{SMOOTHING_MODEL_SET:c6},util:{recursiveToJSON:c8,invalidParam:he}}=O,ht=cW,hr=he("https://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters-phrase.html","smoothing",c6),hs=class extends ht{constructor(e,t,r){super("phrase",e,t,r)}gramSize(e){return this._suggestOpts.gram_size=e,this}realWordErrorLikelihood(e){return this._suggestOpts.real_word_error_likelihood=e,this}confidence(e){return this._suggestOpts.confidence=e,this}maxErrors(e){return this._suggestOpts.max_errors=e,this}separator(e){return this._suggestOpts.separator=e,this}highlight(e,t){return this._suggestOpts.highlight={pre_tag:e,post_tag:t},this}collate(e){return this._suggestOpts.collate=e,this}smoothing(e){ep(e)&&hr(e);let t=e.toLowerCase();return c6.has(t)||hr(e),this._suggestOpts.smoothing=t,this}directGenerator(e){return this._suggestOpts.direct_generator=Array.isArray(e)?e:[e],this}toJSON(){return c8(this._body)}},{Suggester:hi,util:{setDefault:hn}}=O,ho=class extends hi{constructor(e,t){super("completion",e,t)}prefix(e){return this._opts.prefix=e,this}skipDuplicates(e=!0){return this._suggestOpts.skip_duplicates=e,this}_checkFuzzy(){eb(this._suggestOpts.fuzzy)||(this._suggestOpts.fuzzy={})}fuzzy(e=!0){return this._suggestOpts.fuzzy=e,this}fuzziness(e){return this._checkFuzzy(),this._suggestOpts.fuzzy.fuzziness=e,this}transpositions(e){return this._checkFuzzy(),this._suggestOpts.fuzzy.transpositions=e,this}minLength(e){return this._checkFuzzy(),this._suggestOpts.fuzzy.min_length=e,this}prefixLength(e){return this._checkFuzzy(),this._suggestOpts.fuzzy.prefix_length=e,this}unicodeAware(e){return this._checkFuzzy(),this._suggestOpts.fuzzy.unicode_aware=e,this}regex(e){return this._opts.regex=e,this}flags(e){return hn(this._suggestOpts,"regex",{}),this._suggestOpts.regex.flags=e,this}maxDeterminizedStates(e){return hn(this._suggestOpts,"regex",{}),this._suggestOpts.regex.max_determinized_states=e,this}contexts(e,t){return hn(this._suggestOpts,"contexts",{}),this._suggestOpts.contexts[e]=t,this}};cJ.AnalyzedSuggesterBase=cW,cJ.TermSuggester=c4,cJ.DirectGenerator=c7,cJ.PhraseSuggester=hs,cJ.CompletionSuggester=ho;var ha={};let{MatchAllQuery:hu,termLevelQueries:{ExistsQuery:hc},compoundQueries:{BoolQuery:hh,FunctionScoreQuery:hl,scoreFunctions:{RandomScoreFunction:hg}},fullTextQueries:{NeuralQuery:hp,MultiMatchQuery:hd}}=t0,{Query:h_,util:{checkType:hf}}=O;ha.missingQuery=function(e){return new hh().mustNot(new hc(e))},ha.randomSortQuery=function(e=new hu,t){hf(e,h_);let r=new hg;return new hl().query(e).function(ep(t)?r:r.seed(t))},ha.filterQuery=function(e,t=!1){hf(e,h_);let r=new hh().filter(e);return!0===t?r.must(new hu):r},ha.withSemantic=function(e,t){return new hh().should(t.map(t=>new hp(t,e)))},ha.withNeural=function(e,t){return new hh().should(t.map(t=>new hp(t,e)),new hd(t,e))};let{RequestBodySearch:hy,Highlight:hm,Script:hw,GeoPoint:hb,GeoShape:hx,IndexedShape:hO,Sort:hv,Rescore:hq,InnerHits:hS,SearchTemplate:hA,util:{constructorWrapper:hT}}=O,{MatchAllQuery:hD,MatchNoneQuery:hk,fullTextQueries:{MatchQuery:hQ,MatchPhraseQuery:hE,MatchPhrasePrefixQuery:hj,MultiMatchQuery:hP,CommonTermsQuery:hz,QueryStringQuery:h$,SimpleQueryStringQuery:hF,NeuralQuery:hN},termLevelQueries:{TermQuery:hC,TermsQuery:hM,TermsSetQuery:hR,RangeQuery:hL,ExistsQuery:hB,PrefixQuery:hG,WildcardQuery:hI,RegexpQuery:hH,FuzzyQuery:hJ,TypeQuery:hU,IdsQuery:hW},compoundQueries:{ConstantScoreQuery:hV,BoolQuery:hK,DisMaxQuery:hZ,FunctionScoreQuery:hY,BoostingQuery:hX,scoreFunctions:{ScriptScoreFunction:h0,WeightScoreFunction:h1,RandomScoreFunction:h9,FieldValueFactorFunction:h4,DecayScoreFunction:h2}},joiningQueries:{NestedQuery:h5,HasChildQuery:h3,HasParentQuery:h7,ParentIdQuery:h6},geoQueries:{GeoShapeQuery:h8,GeoBoundingBoxQuery:le,GeoDistanceQuery:lt,GeoPolygonQuery:lr},specializedQueries:{MoreLikeThisQuery:ls,ScriptQuery:li,PercolateQuery:ln,DistanceFeatureQuery:lo},spanQueries:{SpanTermQuery:la,SpanMultiTermQuery:lu,SpanFirstQuery:lc,SpanNearQuery:lh,SpanOrQuery:ll,SpanNotQuery:lg,SpanContainingQuery:lp,SpanWithinQuery:ld,SpanFieldMaskingQuery:l_}}=t0,{metricsAggregations:{AvgAggregation:lf,CardinalityAggregation:ly,ExtendedStatsAggregation:lm,GeoBoundsAggregation:lw,GeoCentroidAggregation:lb,MaxAggregation:lx,MinAggregation:lO,PercentilesAggregation:lv,PercentileRanksAggregation:lq,ScriptedMetricAggregation:lS,StatsAggregation:lA,SumAggregation:lT,TopHitsAggregation:lD,ValueCountAggregation:lk},bucketAggregations:{AdjacencyMatrixAggregation:lQ,ChildrenAggregation:lE,CompositeAggregation:lj,DateHistogramAggregation:lP,AutoDateHistogramAggregation:lz,VariableWidthHistogramAggregation:l$,DateRangeAggregation:lF,DiversifiedSamplerAggregation:lN,FilterAggregation:lC,FiltersAggregation:lM,GeoDistanceAggregation:lR,GeoHashGridAggregation:lL,GeoHexGridAggregation:lB,GeoTileGridAggregation:lG,GlobalAggregation:lI,HistogramAggregation:lH,IpRangeAggregation:lJ,MissingAggregation:lU,NestedAggregation:lW,ParentAggregation:lV,RangeAggregation:lK,RareTermsAggregation:lZ,ReverseNestedAggregation:lY,SamplerAggregation:lX,SignificantTermsAggregation:l0,SignificantTextAggregation:l1,TermsAggregation:l9},pipelineAggregations:{AvgBucketAggregation:l4,DerivativeAggregation:l2,MaxBucketAggregation:l5,MinBucketAggregation:l3,SumBucketAggregation:l7,StatsBucketAggregation:l6,ExtendedStatsBucketAggregation:l8,PercentilesBucketAggregation:ge,MovingAverageAggregation:gt,MovingFunctionAggregation:gr,CumulativeSumAggregation:gs,BucketScriptAggregation:gi,BucketSelectorAggregation:gn,SerialDifferencingAggregation:go,BucketSortAggregation:ga},matrixAggregations:{MatrixStatsAggregation:gu}}=of,{TermSuggester:gc,DirectGenerator:gh,PhraseSuggester:gl,CompletionSuggester:gg}=cJ;x.RequestBodySearch=hy,x.requestBodySearch=hT(hy),x.MatchAllQuery=hD,x.matchAllQuery=hT(hD),x.MatchNoneQuery=hk,x.matchNoneQuery=hT(hk),x.MatchQuery=hQ,x.matchQuery=hT(hQ),x.MatchPhraseQuery=hE,x.matchPhraseQuery=hT(hE),x.MatchPhrasePrefixQuery=hj,x.matchPhrasePrefixQuery=hT(hj),x.MultiMatchQuery=hP,x.multiMatchQuery=hT(hP),x.CommonTermsQuery=hz,x.commonTermsQuery=hT(hz),x.QueryStringQuery=h$,x.queryStringQuery=hT(h$),x.SimpleQueryStringQuery=hF,x.simpleQueryStringQuery=hT(hF),x.NeuralQuery=hN,x.neuralQuery=hT(hN),x.TermQuery=hC,x.termQuery=hT(hC),x.TermsQuery=hM,x.termsQuery=hT(hM),x.TermsSetQuery=hR,x.termsSetQuery=hT(hR),x.RangeQuery=hL,x.rangeQuery=hT(hL),x.ExistsQuery=hB,x.existsQuery=hT(hB),x.PrefixQuery=hG,x.prefixQuery=hT(hG),x.WildcardQuery=hI,x.wildcardQuery=hT(hI),x.RegexpQuery=hH,x.regexpQuery=hT(hH),x.FuzzyQuery=hJ,x.fuzzyQuery=hT(hJ),x.TypeQuery=hU,x.typeQuery=hT(hU),x.IdsQuery=hW,x.idsQuery=hT(hW),x.ConstantScoreQuery=hV,x.constantScoreQuery=hT(hV),x.BoolQuery=hK,x.boolQuery=hT(hK),x.DisMaxQuery=hZ,x.disMaxQuery=hT(hZ),x.FunctionScoreQuery=hY,x.functionScoreQuery=hT(hY),x.BoostingQuery=hX,x.boostingQuery=hT(hX),x.NestedQuery=h5,x.nestedQuery=hT(h5),x.HasChildQuery=h3,x.hasChildQuery=hT(h3),x.HasParentQuery=h7,x.hasParentQuery=hT(h7),x.ParentIdQuery=h6,x.parentIdQuery=hT(h6),x.GeoShapeQuery=h8,x.geoShapeQuery=hT(h8),x.GeoBoundingBoxQuery=le,x.geoBoundingBoxQuery=hT(le),x.GeoDistanceQuery=lt,x.geoDistanceQuery=hT(lt),x.GeoPolygonQuery=lr,x.geoPolygonQuery=hT(lr),x.MoreLikeThisQuery=ls,x.moreLikeThisQuery=hT(ls),x.ScriptQuery=li,x.scriptQuery=hT(li),x.PercolateQuery=ln,x.percolateQuery=hT(ln),x.DistanceFeatureQuery=lo,x.distanceFeatureQuery=hT(lo),x.SpanTermQuery=la,x.spanTermQuery=hT(la),x.SpanMultiTermQuery=lu,x.spanMultiTermQuery=hT(lu),x.SpanFirstQuery=lc,x.spanFirstQuery=hT(lc),x.SpanNearQuery=lh,x.spanNearQuery=hT(lh),x.SpanOrQuery=ll,x.spanOrQuery=hT(ll),x.SpanNotQuery=lg,x.spanNotQuery=hT(lg),x.SpanContainingQuery=lp,x.spanContainingQuery=hT(lp),x.SpanWithinQuery=ld,x.spanWithinQuery=hT(ld),x.SpanFieldMaskingQuery=l_,x.spanFieldMaskingQuery=hT(l_),x.AvgAggregation=lf,x.avgAggregation=hT(lf),x.CardinalityAggregation=ly,x.cardinalityAggregation=hT(ly),x.ExtendedStatsAggregation=lm,x.extendedStatsAggregation=hT(lm),x.GeoBoundsAggregation=lw,x.geoBoundsAggregation=hT(lw),x.GeoCentroidAggregation=lb,x.geoCentroidAggregation=hT(lb),x.MaxAggregation=lx,x.maxAggregation=hT(lx),x.MinAggregation=lO,x.minAggregation=hT(lO),x.PercentilesAggregation=lv,x.percentilesAggregation=hT(lv),x.PercentileRanksAggregation=lq,x.percentileRanksAggregation=hT(lq),x.ScriptedMetricAggregation=lS,x.scriptedMetricAggregation=hT(lS),x.StatsAggregation=lA,x.statsAggregation=hT(lA),x.SumAggregation=lT,x.sumAggregation=hT(lT),x.TopHitsAggregation=lD,x.topHitsAggregation=hT(lD),x.ValueCountAggregation=lk,x.valueCountAggregation=hT(lk),x.AdjacencyMatrixAggregation=lQ,x.adjacencyMatrixAggregation=hT(lQ),x.ChildrenAggregation=lE,x.childrenAggregation=hT(lE),x.CompositeAggregation=lj,x.compositeAggregation=hT(lj),x.DateHistogramAggregation=lP,x.dateHistogramAggregation=hT(lP),x.AutoDateHistogramAggregation=lz,x.autoDateHistogramAggregation=hT(lz),x.VariableWidthHistogramAggregation=l$,x.variableWidthHistogramAggregation=hT(l$),x.DateRangeAggregation=lF,x.dateRangeAggregation=hT(lF),x.DiversifiedSamplerAggregation=lN,x.diversifiedSamplerAggregation=hT(lN),x.FilterAggregation=lC,x.filterAggregation=hT(lC),x.FiltersAggregation=lM,x.filtersAggregation=hT(lM),x.GeoDistanceAggregation=lR,x.geoDistanceAggregation=hT(lR),x.GeoHashGridAggregation=lL,x.geoHashGridAggregation=hT(lL),x.GeoHexGridAggregation=lB,x.geoHexGridAggregation=hT(lB),x.GeoTileGridAggregation=lG,x.geoTileGridAggregation=hT(lG),x.GlobalAggregation=lI,x.globalAggregation=hT(lI),x.HistogramAggregation=lH,x.histogramAggregation=hT(lH),x.IpRangeAggregation=lJ,x.ipRangeAggregation=hT(lJ),x.MissingAggregation=lU,x.missingAggregation=hT(lU),x.NestedAggregation=lW,x.nestedAggregation=hT(lW),x.ParentAggregation=lV,x.parentAggregation=hT(lV),x.RangeAggregation=lK,x.rangeAggregation=hT(lK),x.RareTermsAggregation=lZ,x.rareTermsAggregation=hT(lZ),x.ReverseNestedAggregation=lY,x.reverseNestedAggregation=hT(lY),x.SamplerAggregation=lX,x.samplerAggregation=hT(lX),x.SignificantTermsAggregation=l0,x.significantTermsAggregation=hT(l0),x.SignificantTextAggregation=l1,x.significantTextAggregation=hT(l1),x.TermsAggregation=l9,x.termsAggregation=hT(l9),x.AvgBucketAggregation=l4,x.avgBucketAggregation=hT(l4),x.DerivativeAggregation=l2,x.derivativeAggregation=hT(l2),x.MaxBucketAggregation=l5,x.maxBucketAggregation=hT(l5),x.MinBucketAggregation=l3,x.minBucketAggregation=hT(l3),x.BucketSortAggregation=ga,x.bucketSortAggregation=hT(ga),x.SumBucketAggregation=l7,x.sumBucketAggregation=hT(l7),x.StatsBucketAggregation=l6,x.statsBucketAggregation=hT(l6),x.ExtendedStatsBucketAggregation=l8,x.extendedStatsBucketAggregation=hT(l8),x.PercentilesBucketAggregation=ge,x.percentilesBucketAggregation=hT(ge),x.MovingAverageAggregation=gt,x.movingAverageAggregation=hT(gt),x.MovingFunctionAggregation=gr,x.movingFunctionAggregation=hT(gr),x.CumulativeSumAggregation=gs,x.cumulativeSumAggregation=hT(gs),x.BucketScriptAggregation=gi,x.bucketScriptAggregation=hT(gi),x.BucketSelectorAggregation=gn,x.bucketSelectorAggregation=hT(gn),x.SerialDifferencingAggregation=go,x.serialDifferencingAggregation=hT(go),x.MatrixStatsAggregation=gu,x.matrixStatsAggregation=hT(gu),x.ScriptScoreFunction=h0,x.scriptScoreFunction=hT(h0),x.WeightScoreFunction=h1,x.weightScoreFunction=hT(h1),x.RandomScoreFunction=h9,x.randomScoreFunction=hT(h9),x.FieldValueFactorFunction=h4,x.fieldValueFactorFunction=hT(h4),x.DecayScoreFunction=h2,x.decayScoreFunction=hT(h2),x.TermSuggester=gc,x.termSuggester=hT(gc),x.DirectGenerator=gh,x.directGenerator=hT(gh),x.PhraseSuggester=gl,x.phraseSuggester=hT(gl),x.CompletionSuggester=gg,x.completionSuggester=hT(gg);var gp=x.recipes=ha;x.cookMissingQuery=ha.missingQuery,x.cookRandomSortQuery=ha.randomSortQuery,x.cookFilterQuery=ha.filterQuery,x.Highlight=hm,x.highlight=hT(hm),x.Script=hw,x.script=hT(hw),x.GeoPoint=hb,x.geoPoint=hT(hb),x.GeoShape=hx,x.geoShape=hT(hx),x.IndexedShape=hO,x.indexedShape=hT(hO),x.Sort=hv,x.sort=hT(hv),x.Rescore=hq,x.rescore=hT(hq),x.InnerHits=hS,x.innerHits=hT(hS),x.SearchTemplate=hA,x.searchTemplate=hT(hA),x.prettyPrint=function(e){console.log(JSON.stringify(e,null,2))};let gd=gp.withNeural;gp.withSemantic;let g_=(0,g.createContext)(void 0),gf=({apiKey:e,url:t,children:r})=>g.createElement(g_.Provider,{value:{apiKey:e,url:t}},r);var gy=0/0,gm=/^\s+|\s+$/g,gw=/^[-+]0x[0-9a-f]+$/i,gb=/^0b[01]+$/i,gx=/^0o[0-7]+$/i,gO=parseInt,gv="object"==typeof b&&b&&b.Object===Object&&b,gq="object"==typeof self&&self&&self.Object===Object&&self,gS=gv||gq||Function("return this")(),gA=Object.prototype.toString,gT=Math.max,gD=Math.min,gk=function(){return gS.Date.now()};function gQ(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function gE(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==gA.call(t))return gy;if(gQ(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=gQ(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(gm,"");var s=gb.test(e);return s||gx.test(e)?gO(e.slice(2),s?2:8):gw.test(e)?gy:+e}var gj=(u=function(e,t,r){var s,i,n,o,a,u,c=0,h=!1,l=!1,g=!0;if("function"!=typeof e)throw TypeError("Expected a function");function p(t){var r=s,n=i;return s=i=void 0,c=t,o=e.apply(n,r)}function d(e){var r=e-u,s=e-c;return void 0===u||r>=t||r<0||l&&s>=n}function _(){var e,r,s,i=gk();if(d(i))return f(i);a=setTimeout(_,(e=i-u,r=i-c,s=t-e,l?gD(s,n-r):s))}function f(e){return(a=void 0,g&&s)?p(e):(s=i=void 0,o)}function y(){var e,r=gk(),n=d(r);if(s=arguments,i=this,u=r,n){if(void 0===a)return c=e=u,a=setTimeout(_,t),h?p(e):o;if(l)return a=setTimeout(_,t),p(u)}return void 0===a&&(a=setTimeout(_,t)),o}return t=gE(t)||0,gQ(r)&&(h=!!r.leading,n=(l="maxWait"in r)?gT(gE(r.maxWait)||0,t):n,g="trailing"in r?!!r.trailing:g),y.cancel=function(){void 0!==a&&clearTimeout(a),c=0,s=u=i=a=void 0},y.flush=function(){return void 0===a?o:f(gk())},y}).__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;class gP extends Error{constructor(e,t,r){let s=e.status||0===e.status?e.status:"",i=e.statusText||"",n=`${s} ${i}`.trim(),o=n?`status code ${n}`:"an unknown error";super(`Request failed with ${o}`),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=e,this.request=t,this.options=r}}class gz extends Error{constructor(e){super("Request timed out"),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=e}}let g$=e=>null!==e&&"object"==typeof e,gF=(...e)=>{for(let t of e)if((!g$(t)||Array.isArray(t))&&void 0!==t)throw TypeError("The `options` argument must be an object");return gC({},...e)},gN=(e={},t={})=>{let r=new globalThis.Headers(e),s=t instanceof globalThis.Headers,i=new globalThis.Headers(t);for(let[e,t]of i.entries())s&&"undefined"===t||void 0===t?r.delete(e):r.set(e,t);return r},gC=(...e)=>{let t={},r={};for(let s of e)if(Array.isArray(s))Array.isArray(t)||(t=[]),t=[...t,...s];else if(g$(s)){for(let[e,r]of Object.entries(s))g$(r)&&e in t&&(r=gC(t[e],r)),t={...t,[e]:r};g$(s.headers)&&(r=gN(r,s.headers),t.headers=r)}return t},gM=(()=>{let e=!1,t=!1,r="function"==typeof globalThis.ReadableStream,s="function"==typeof globalThis.Request;return r&&s&&(t=new globalThis.Request("https://a.com",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")),e&&!t})(),gR="function"==typeof globalThis.AbortController,gL="function"==typeof globalThis.ReadableStream,gB="function"==typeof globalThis.FormData,gG=["get","post","put","patch","head","delete"],gI={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},gH=Symbol("stop"),gJ=e=>gG.includes(e)?e.toUpperCase():e,gU=[413,429,503],gW={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:gU,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY},gV=(e={})=>{if("number"==typeof e)return{...gW,limit:e};if(e.methods&&!Array.isArray(e.methods))throw Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw Error("retry.statusCodes must be an array");return{...gW,...e,afterStatusCodes:gU}};async function gK(e,t,r){return new Promise((s,i)=>{let n=setTimeout(()=>{t&&t.abort(),i(new gz(e))},r.timeout);r.fetch(e).then(s).catch(i).then(()=>{clearTimeout(n)})})}let gZ=!!globalThis.DOMException;function gY(e){if(gZ)return new DOMException(e?.reason??"The operation was aborted.","AbortError");let t=Error(e?.reason??"The operation was aborted.");return t.name="AbortError",t}async function gX(e,{signal:t}){return new Promise((r,s)=>{if(t){if(t.aborted){s(gY(t));return}t.addEventListener("abort",i,{once:!0})}function i(){s(gY(t)),clearTimeout(n)}let n=setTimeout(()=>{t?.removeEventListener("abort",i),r()},e)})}class g0{static create(e,t){let r=new g0(e,t),s=async()=>{if(r._options.timeout>2147483647)throw RangeError("The `timeout` option cannot be greater than 2147483647");await Promise.resolve();let e=await r._fetch();for(let t of r._options.hooks.afterResponse){let s=await t(r.request,r._options,r._decorateResponse(e.clone()));s instanceof globalThis.Response&&(e=s)}if(r._decorateResponse(e),!e.ok&&r._options.throwHttpErrors){let t=new gP(e,r.request,r._options);for(let e of r._options.hooks.beforeError)t=await e(t);throw t}if(r._options.onDownloadProgress){if("function"!=typeof r._options.onDownloadProgress)throw TypeError("The `onDownloadProgress` option must be a function");if(!gL)throw Error("Streams are not supported in your environment. `ReadableStream` is missing.");return r._stream(e.clone(),r._options.onDownloadProgress)}return e},i=r._options.retry.methods.includes(r.request.method.toLowerCase()),n=i?r._retry(s):s();for(let[e,s]of Object.entries(gI))n[e]=async()=>{r.request.headers.set("accept",r.request.headers.get("accept")||s);let i=await n,o=i.clone();if("json"===e){if(204===o.status)return"";let e=await o.clone().arrayBuffer(),r=e.byteLength;if(0===r)return"";if(t.parseJson)return t.parseJson(await o.text())}return o[e]()};return n}constructor(e,t={}){if(Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=e,this._options={credentials:this._input.credentials||"same-origin",...t,headers:gN(this._input.headers,t.headers),hooks:gC({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},t.hooks),method:gJ(t.method??this._input.method),prefixUrl:String(t.prefixUrl||""),retry:gV(t.retry),throwHttpErrors:!1!==t.throwHttpErrors,timeout:void 0===t.timeout?1e4:t.timeout,fetch:t.fetch??globalThis.fetch.bind(globalThis)},"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(gR){if(this.abortController=new globalThis.AbortController,this._options.signal){let e=this._options.signal;this._options.signal.addEventListener("abort",()=>{this.abortController.abort(e.reason)})}this._options.signal=this.abortController.signal}if(gM&&(this._options.duplex="half"),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){let e="string"==typeof this._options.searchParams?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString(),t=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,"?"+e);(gB&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(t,{...this.request}),this._options)}void 0!==this._options.json&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type",this._options.headers.get("content-type")??"application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(e instanceof gz)){if(e instanceof gP){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;let t=e.response.headers.get("Retry-After");if(t&&this._options.retry.afterStatusCodes.includes(e.response.status)){let e=Number(t);return(Number.isNaN(e)?e=Date.parse(t)-Date.now():e*=1e3,void 0!==this._options.retry.maxRetryAfter&&e>this._options.retry.maxRetryAfter)?0:e}if(413===e.response.status)return 0}return Math.min(this._options.retry.backoffLimit,.3*2**(this._retryCount-1)*1e3)}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(r){let t=Math.min(this._calculateRetryDelay(r),2147483647);if(0!==t&&this._retryCount>0){for(let e of(await gX(t,{signal:this._options.signal}),this._options.hooks.beforeRetry)){let t=await e({request:this.request,options:this._options,error:r,retryCount:this._retryCount});if(t===gH)return}return this._retry(e)}throw r}}async _fetch(){for(let e of this._options.hooks.beforeRequest){let t=await e(this.request,this._options);if(t instanceof Request){this.request=t;break}if(t instanceof Response)return t}return!1===this._options.timeout?this._options.fetch(this.request.clone()):gK(this.request.clone(),this.abortController,this._options)}_stream(e,t){let r=Number(e.headers.get("content-length"))||0,s=0;return 204===e.status?(t&&t({percent:1,totalBytes:r,transferredBytes:s},new Uint8Array),new globalThis.Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(i){let n=e.body.getReader();async function o(){let{done:e,value:a}=await n.read();if(e){i.close();return}if(t){s+=a.byteLength;let e=0===r?0:s/r;t({percent:e,transferredBytes:s,totalBytes:r},a)}i.enqueue(a),await o()}t&&t({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array),await o()}}),{status:e.status,statusText:e.statusText,headers:e.headers})}}/*! MIT License © Sindre Sorhus */let g1=e=>{let t=(t,r)=>g0.create(t,gF(e,r));for(let r of gG)t[r]=(t,s)=>g0.create(t,gF(e,s,{method:r}));return t.create=e=>g1(gF(e)),t.extend=t=>g1(gF(e,t)),t.stop=gH,t},g9=g1();class g4{constructor(e,t,r){this.indexName=e,this.apiKey=t,this.url=r,this.headers={Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}}async addSource(e,t){let r={index_name:this.indexName,source_host:e.host,source_user:e.user,source_password:e.password,source_port:e.port,source_dbname:e.dbName},s={database:e.dbName,index:this.indexName,nodes:t.toSchema()};console.log(`Preparing to sync index ${this.indexName} with table ${t.table}. This may take some time if your table is large...`),await g9.post(`${this.url}/index/add_source`,{headers:this.headers,json:{source:r,pgsync_schema:s},timeout:!1}).catch(async e=>{throw Error(await e.response.text())})}async search(e){let t={dsl:e.toJSON(),index_name:this.indexName};return await g9.post(`${this.url}/index/search`,{headers:this.headers,json:t,timeout:!1}).then(e=>e.json()).catch(async e=>{throw Error(await e.response.text())})}async upsert(e,t){let r={index_name:this.indexName,documents:e,ids:t};await g9.post(`${this.url}/index/upsert`,{headers:this.headers,json:r,timeout:!1}).catch(async e=>{throw Error(await e.response.text())})}async createField(e,t){let r={index_name:this.indexName,field_name:e,field_type:t};await g9.post(`${this.url}/index/field/create`,{headers:this.headers,json:r,timeout:!1}).catch(async e=>{throw Error(await e.response.text())})}async vectorize(e){let t={index_name:this.indexName,field_names:e};await g9.post(`${this.url}/index/vectorize`,{headers:this.headers,json:t,timeout:!1}).catch(async e=>{throw Error(await e.response.text())})}}class g2{constructor(e,t){this.apiKey=e,this.url=t}async getIndex(e){return await g9.get(`${this.url}/index/${e}`,{headers:{Authorization:`Bearer ${this.apiKey}`}}).then(t=>{if(t.ok)return new g4(e,this.apiKey,this.url)})}async createIndex(e){return await g9.post(`${this.url}/index/create`,{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},json:{index_name:e},timeout:!1}).then(t=>{if(t.ok)return new g4(e,this.apiKey,this.url)})}async deleteIndex(e){await g9.post(`${this.url}/index/delete`,{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},json:{index_name:e},timeout:!1}).catch(async e=>{throw Error(await e.response.text())})}async listIndices(){return await g9.get(`${this.url}/client/indices`,{headers:{Authorization:`Bearer ${this.apiKey}`},timeout:!1}).json().catch(async e=>{throw Error(await e.response.text())})}async describeIndex(e){return await g9.get(`${this.url}/index/${e}`,{headers:{Authorization:`Bearer ${this.apiKey}`},timeout:!1}).json().catch(async e=>{throw Error(await e.response.text())})}}let g5=({indexName:e,query:t,throttle:r})=>{let s=(0,g.useContext)(g_),[i,n]=(0,g.useState)(),[o,a]=(0,g.useState)(),[u,c]=(0,g.useState)();if(!(null==s?void 0:s.apiKey)||!(null==s?void 0:s.url))throw Error("apiKey and url must be set in SearchProvider");let h=new g2(s.apiKey,s.url),l=(0,g.useRef)(),p=null==t?void 0:t.toJSON(),d=()=>{let e=JSON.stringify(p);l.current!==e&&void 0!==u&&void 0!==t?(a(void 0),u.search(t).then(e=>n(e)).catch(e=>a(e)),l.current=e):void 0===t&&(a(void 0),n(void 0))},_=gj(()=>{d()},null!=r?r:1e3);return(0,g.useEffect)(()=>{h.getIndex(e).then(e=>c(e)).catch(e=>a(e))},[]),(0,g.useEffect)(()=>{if(p)return _(),()=>{_.cancel()}},[e,p]),{data:i,error:o}},g3=x.requestBodySearch,g7=JSON.parse('["title", "content"]');var g6=()=>{var e,t;let[r,s]=(0,g.useState)(""),i=""!==r?g3().query(gd(r,g7)):void 0,{data:n,error:o}=g5({indexName:"retake-docs",query:i,throttle:100}),a=null==n?void 0:null===(e=n.hits)||void 0===e?void 0:e.hits,u=null==a?void 0:a.filter(e=>e.score>=.9),h=(null==u?void 0:u.length)?u:null==a?void 0:a.slice(0,Math.min(5,a.length));return(console.log(h),o)?(0,c.jsx)(p.Zb,{children:(0,c.jsxs)(p.xv,{children:["An unexpected error occured: ",o.toString()]})}):(0,c.jsx)(d.u.Root,{show:!0,as:g.Fragment,afterLeave:()=>s(""),appear:!0,children:(0,c.jsxs)(_.V,{as:"div",className:"relative z-10",onClose:()=>{},children:[(0,c.jsx)(d.u.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,c.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-25 transition-opacity"})}),(0,c.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto p-4 sm:p-6 md:p-20",children:(0,c.jsx)(d.u.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,c.jsx)(_.V.Panel,{className:"mx-auto max-w-2xl transform divide-y divide-gray-100 overflow-hidden rounded bg-white shadow-2xl transition-all",children:(0,c.jsxs)(f.h,{children:[(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(y.Z,{className:"pointer-events-none absolute left-4 top-3.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,c.jsx)(f.h.Input,{className:"h-12 w-full border-0 bg-transparent pl-11 pr-4 text-gray-900 placeholder:text-gray-400 ring-0 outline-0 sm:text-sm",placeholder:"Search...",onChange:e=>s(e.target.value)})]}),(null==h?void 0:h.length)>0&&""!==r&&(0,c.jsx)(f.h.Options,{static:!0,className:"max-h-96 scroll-py-3 overflow-y-auto p-3",children:h.map((e,r)=>(0,c.jsx)(f.h.Option,{value:e,className:e=>{let{active:t}=e;return l()("flex cursor-default select-none rounded p-3",t&&"bg-gray-100")},children:r=>{var s;let{active:i}=r;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"flex h-10 w-10 flex-none items-center justify-center rounded bg-gray-100",children:(0,c.jsx)(m.Z,{className:"h-3 w-3 text-gray-400","aria-hidden":"true"})}),(0,c.jsxs)("div",{className:"ml-4 flex-auto",children:[(0,c.jsx)("p",{className:l()("text-sm font-medium",i?"text-gray-900":"text-gray-700"),children:e._source.title}),(0,c.jsx)("p",{className:l()("text-sm",i?"text-gray-700":"text-gray-500"),children:null!==(t=null===(s=e._source.content)||void 0===s?void 0:s.slice(0,Math.min(100,e._source.content.length)))&&void 0!==t?t:""})]})]})}},r))}),""!==r&&(null==h?void 0:h.length)===0&&(0,c.jsxs)("div",{className:"px-6 py-14 text-center text-sm sm:px-14",children:[(0,c.jsx)(w.Z,{type:"outline",name:"exclamation-circle",className:"mx-auto h-6 w-6 text-gray-400"}),(0,c.jsx)("p",{className:"mt-4 font-semibold text-gray-900",children:"No results found"}),(0,c.jsx)("p",{className:"mt-2 text-gray-500",children:"No components found for this search term. Please try again."})]})]})})})})]})})},g8=()=>(0,c.jsx)(gf,{apiKey:"641d89a358818294c03eb3abe477a5a9e9f413f62c1fea8645bb10bda64a8c9c",url:"http://a15490a5e2ba845dea8135f04c6dec87-dc447a4836969dd1.elb.us-west-1.amazonaws.com/user/4124f15e71d34832923bd95c5f1b2245/api",children:(0,c.jsx)("div",{className:"w-full h-screen p-12 bg-black",children:(0,c.jsx)(g6,{})})})}},function(e){e.O(0,[282,253,961,744],function(){return e(e.s=1656)}),_N_E=e.O()}]);