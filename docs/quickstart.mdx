---
title: Quick Start
description: Add neural search to your Python app in under five minutes
---

<Note>
  This guide will show you how to run Retake in a development environment. For
  assistance in deploying to production, please [contact our
  team](http://calendly.com/philippemnoel).
</Note>

<Info>
  **Prerequisite** Please ensure that you have [enabled logical
  replication](/setup) in your Postgres database.
</Info>

In this tutorial, we will implement neural search over Postgres using the `retakesearch` Python library.
This tutorial will only cover Retake-specific code and assumes that you already have a Python environment
where you would like to integrate Retake.

If you would like to see a full demo application using Retake, an example Python Flask app with
setup instructions can be found [here](https://github.com/getretake/search/tree/dev/examples/flask).

## Installation

<Info>**Prerequisite** Docker and Docker Compose must be installed.</Info>
<Warning>
  We are currently working on deploying to Docker hub and providing a Docker
  Compose file. This is a temporary installation workaround.
</Warning>

Clone the `retake` repository and run:

```bash
docker compose up
```

This spins up the Retake engine, which is responsible for executing search queries and storing search data.
Next, `cd` into your Python project and install `retakesearch`.

```bash
pip install retakesearch
```

## Upload Data

Next, we use the Retake Python SDK to tell the Retake engine what data we wish to search over. Retake enables
developers to either upload their own data or integrate directly with Postgres.

### From Postgres

The `Index.add_source` function integrates Retake directly with Postgres. As long as the Retake engine is running, this
function only needs to be run once.

```python
from retakesearch import Client, Index, Database, Table

# When the Retake engine is run locally,
# this is the default API key/URL
client = Client(
  api_key="retake-test-key",
  url="http://localhost:8000"
)

# Provide your Postgres database credentials here
database = Database(
    host="***",
    user="***",
    password="***",
    port=5432,
)

# Provide the table name, primary key, and columns you
# wish to search over here
table = Table(
    name="faqs"
    primary_key="id",
    columns=["questions", "answers"]
)

# Create an index
index = client.create_index("my_index")

# Populate the index with data from your table
# You can add multiple tables to the same index if you want
# to search over multiple tables in the same query
index.add_source(database, table)
```

### From Memory

Data stored outside of Postgres can also be added to an index.

```python
documents = [{"key": "value"}]
ids = ["id1"]

index.upsert(
  documents=documents,
  ids=ids
)
```

## Execute a Search

Inside our Python application, we are ready to write and execute our first search query.

### Keyword-Based Search (BM25)

```python
from retakesearch import Search

# This executes a full-text (BM25) search
bm25_search_query = Search().query("match", questions="Who am I?")
response = index.search(bm25_search_query)

print(response)
```

### Neural Search

```python
from retakesearch import Search

# A field must be vectorized before neural search can be performed
# This only needs to be done once
neural_search_fields = ["questions"]
index.vectorize(neural_search_fields)

# This executes a neural search
neural_search_query = Search().with_neural("Who am I?", neural_search_fields)
response = index.search(neural_search_query)

print(response)
```

Note that Retake's `Search` query builder is a forked version of the
[high-level OpenSearch Python DSL client](https://opensearch.org/docs/latest/clients/python-high-level).
Please refer to the [search guide]() for the essentials of writing search queries.

That's it! You've successfully executed a neural search query over your Postgres database.
