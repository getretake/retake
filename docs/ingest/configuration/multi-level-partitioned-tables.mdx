---
title: Multilevel Partition Tables
---

## Hive-Style Partitioning

Hive-style partitioning organizes data hierarchically, improving query performance on large datasets.

```sql
CREATE FOREIGN TABLE auto_sales ()
SERVER parquet_server
OPTIONS (
  files 's3://demo-bucket/year=*/manufacturer=*/data_*.parquet',
  hive_partitioning 'true'
);
```

## Partition Columns

Partition columns are automatically added to the table schema.

```sql
-- Querying partition columns
SELECT DISTINCT year, manufacturer FROM auto_sales;
```

## Query Optimization

Queries using partition columns benefit from improved performance.

```sql
-- Efficient query using partition columns
SELECT COUNT(*) FROM auto_sales WHERE year = 2023 AND manufacturer = 'Toyota';
```

## Custom Schema

Specify columns explicitly for more control over the table structure.

```sql
CREATE FOREIGN TABLE auto_sales (
  sale_id BIGINT,
  sale_date DATE,
  price DOUBLE PRECISION,
  year INT,
  manufacturer TEXT
)
SERVER parquet_server
OPTIONS (
  files 's3://demo-bucket/year=*/manufacturer=*/data_*.parquet',
  hive_partitioning '1'
);
```

<Note>
  The `hive_partitioning` option must be set to '1' to enable multilevel
  partition support. Ensure your S3 data is organized in the correct Hive-style
  structure for this feature to work properly.
</Note>
