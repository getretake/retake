-- ICU Arabic tokenizer
CREATE TABLE IF NOT EXISTS arabic (
    id SERIAL PRIMARY KEY,
    author TEXT,
    title TEXT,
    message TEXT
);
INSERT INTO arabic (author, title, message)
VALUES
    ('فاطمة', 'رحلة إلى الشرق', 'في هذا المقال، سنستكشف رحلة مثيرة إلى الشرق ونتعرف على ثقافات مختلفة وتاريخها الغني'),
    ('محمد','رحلة إلى السوق مع أبي', 'مرحباً بك في المقالة الأولى. أتمنى أن تجد المحتوى مفيدًا ومثيرًا للاهتمام'),
    ('أحمد', 'نصائح للنجاح', 'هنا نقدم لك بعض النصائح القيمة لتحقيق النجاح في حياتك المهنية والشخصية. استفد منها وحقق أهدافك');
CALL paradedb.create_bm25(
	index_name => 'idx_arabic',
	table_name => 'arabic',
	key_field => 'id',
    text_fields => '{
        author: {tokenizer: {type: "icu"},},
        title: {tokenizer: {type: "icu"},},
        message: {tokenizer: {type: "icu"},}
    }'
);
SELECT * FROM idx_arabic.search('author:"محمد"');
 id | author |         title         |                                message                                 
----+--------+-----------------------+------------------------------------------------------------------------
  2 | محمد   | رحلة إلى السوق مع أبي | مرحباً بك في المقالة الأولى. أتمنى أن تجد المحتوى مفيدًا ومثيرًا للاهتمام
(1 row)

SELECT * FROM idx_arabic.search('title:"السوق"');
 id | author |         title         |                                message                                 
----+--------+-----------------------+------------------------------------------------------------------------
  2 | محمد   | رحلة إلى السوق مع أبي | مرحباً بك في المقالة الأولى. أتمنى أن تجد المحتوى مفيدًا ومثيرًا للاهتمام
(1 row)

SELECT * FROM idx_arabic.search('message:"في"');
 id | author |         title         |                                            message                                             
----+--------+-----------------------+------------------------------------------------------------------------------------------------
  2 | محمد   | رحلة إلى السوق مع أبي | مرحباً بك في المقالة الأولى. أتمنى أن تجد المحتوى مفيدًا ومثيرًا للاهتمام
  1 | فاطمة  | رحلة إلى الشرق        | في هذا المقال، سنستكشف رحلة مثيرة إلى الشرق ونتعرف على ثقافات مختلفة وتاريخها الغني
  3 | أحمد   | نصائح للنجاح          | هنا نقدم لك بعض النصائح القيمة لتحقيق النجاح في حياتك المهنية والشخصية. استفد منها وحقق أهدافك
(3 rows)

-- ICU Amharic tokenizer
CREATE TABLE IF NOT EXISTS amharic (
    id SERIAL PRIMARY KEY,
    author TEXT,
    title TEXT,
    message TEXT
);
INSERT INTO amharic (author, title, message)
VALUES
    ('መሐመድ', 'መደመር ተጨማሪ', 'እንኳን ነበር በመደመር ተጨማሪ፣ በደስታ እና በልዩ ዝናብ ይከብዳል።'),
    ('ፋትስ', 'የምስሉ ማህበረሰብ', 'በዚህ ግዜ የምስሉ ማህበረሰብ እና እንደዚህ ዝናብ ይችላል።'),
    ('አለም', 'መረጃዎች ለመማር', 'እነዚህ መረጃዎች የምስሉ ለመማር በእያንዳንዱ ላይ ይመልከቱ።');
CALL paradedb.create_bm25(
	index_name => 'idx_amharic',
	table_name => 'amharic',
	key_field => 'id',
    text_fields => '{
        author: {tokenizer: {type: "icu"},},
        title: {tokenizer: {type: "icu"},},
        message: {tokenizer: {type: "icu"},}
    }'
);
SELECT * FROM idx_amharic.search('author:"አለም"');
 id | author |   title    |                message                 
----+--------+------------+----------------------------------------
  3 | አለም    | መረጃዎች ለመማር | እነዚህ መረጃዎች የምስሉ ለመማር በእያንዳንዱ ላይ ይመልከቱ።
(1 row)

SELECT * FROM idx_amharic.search('title:"ለመማር"');
 id | author |   title    |                message                 
----+--------+------------+----------------------------------------
  3 | አለም    | መረጃዎች ለመማር | እነዚህ መረጃዎች የምስሉ ለመማር በእያንዳንዱ ላይ ይመልከቱ።
(1 row)

SELECT * FROM idx_amharic.search('message:"ዝናብ"');
 id | author |    title    |                   message                   
----+--------+-------------+---------------------------------------------
  2 | ፋትስ    | የምስሉ ማህበረሰብ | በዚህ ግዜ የምስሉ ማህበረሰብ እና እንደዚህ ዝናብ ይችላል።
  1 | መሐመድ   | መደመር ተጨማሪ   | እንኳን ነበር በመደመር ተጨማሪ፣ በደስታ እና በልዩ ዝናብ ይከብዳል።
(2 rows)

-- ICU Greek tokenizer
CREATE TABLE IF NOT EXISTS greek (
    id SERIAL PRIMARY KEY,
    author TEXT,
    title TEXT,
    message TEXT
);
INSERT INTO greek (author, title, message)
VALUES
    ('Δημήτρης', 'Η πρώτη άρθρο', 'Καλώς ήρθες στο πρώτο άρθρο. Ελπίζω να βρεις το περιεχόμενο χρήσιμο και ενδιαφέρον.'),
    ('Σοφία', 'Ταξίδι στην Ανατολή', 'Σε αυτό το άρθρο, θα εξερευνήσουμε ένα συναρπαστικό ταξίδι στην Ανατολή και θα γνωρίσουμε διάφορες πολιτισμικές και ιστορικές πτυχές.'),
    ('Αλέξανδρος', 'Συμβουλές για την επιτυχία', 'Εδώ παρέχουμε μερικές πολύτιμες συμβουλές για την επίτευξη επιτυχίας στην επαγγελματική και προσωπική σας ζωή. Επωφεληθείτε από αυτές και επιτύχετε τους στόχους σας.');
CALL paradedb.create_bm25(
	index_name => 'idx_greek',
	table_name => 'greek',
	key_field => 'id',
    text_fields => '{
        author: {tokenizer: {type: "icu"},},
        title: {tokenizer: {type: "icu"},},
        message: {tokenizer: {type: "icu"},}
    }'
);
SELECT * FROM idx_greek.search('author:"Σοφία"');
 id | author |        title        |                                                                message                                                                
----+--------+---------------------+---------------------------------------------------------------------------------------------------------------------------------------
  2 | Σοφία  | Ταξίδι στην Ανατολή | Σε αυτό το άρθρο, θα εξερευνήσουμε ένα συναρπαστικό ταξίδι στην Ανατολή και θα γνωρίσουμε διάφορες πολιτισμικές και ιστορικές πτυχές.
(1 row)

SELECT * FROM idx_greek.search('title:"επιτυχία"');
 id |   author   |           title            |                                                                                message                                                                                
----+------------+----------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
  3 | Αλέξανδρος | Συμβουλές για την επιτυχία | Εδώ παρέχουμε μερικές πολύτιμες συμβουλές για την επίτευξη επιτυχίας στην επαγγελματική και προσωπική σας ζωή. Επωφεληθείτε από αυτές και επιτύχετε τους στόχους σας.
(1 row)

SELECT * FROM idx_greek.search('message:"συμβουλές"');
 id |   author   |           title            |                                                                                message                                                                                
----+------------+----------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
  3 | Αλέξανδρος | Συμβουλές για την επιτυχία | Εδώ παρέχουμε μερικές πολύτιμες συμβουλές για την επίτευξη επιτυχίας στην επαγγελματική και προσωπική σας ζωή. Επωφεληθείτε από αυτές και επιτύχετε τους στόχους σας.
(1 row)

